{"version":3,"sources":["assets/Script/UI/bonus-game/aka-g1009-bonus-trigger-actor.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,6FAAkF;AAClF,qFAA8E;AAC9E,8FAA6E;AAGvE,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAA+C,qCAAmB;IAAlE;QAAA,qEA2BC;QAxBA,qBAAe,GAAgB,IAAI,CAAC;;IAwBrC,CAAC;IAtBa,4CAAgB,GAA1B;QACF,OAAO,mCAAmB,CAAC,WAAW,EAAE,CAAC,sBAAsB,EAAE,CAAC;IACnE,CAAC;IAES,8CAAkB,GAA5B;QACC,2CAAiB,CAAC,WAAW,EAAE,CAAC,MAAM,CAAC,YAAY,EAAE,mCAAmB,CAAC,WAAW,EAAE,CAAC,WAAW,EAAE,CAAC,CAAC;IACvG,CAAC;IAES,uCAAW,GAArB;QAAA,iBASC;QARA,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAC1B,2CAAiB,CAAC,WAAW,EAAE,CAAC,MAAM,CAAC,SAAS,EAAE,EAAE,OAAO,EAAE,qBAAqB,EAAE,MAAM,EAAE,KAAK,EAAE,CAAC,CAAC;QACrG,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;QACxC,IAAI,CAAC,eAAe,CAAC,YAAY,CAAC,CAAC,EAAE,WAAW,EAAE,KAAK,CAAC,CAAC;QACzD,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;YACjC,2CAAiB,CAAC,WAAW,EAAE,CAAC,MAAM,CAAC,kBAAkB,CAAC,CAAC;YAC3D,KAAI,CAAC,KAAK,EAAE,CAAC;QACd,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC;IACZ,CAAC;IAES,iCAAK,GAAf;QACC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;IAC1C,CAAC;IAvBD;QADC,QAAQ,CAAC,EAAE,CAAC,QAAQ,CAAC;8DACc;IAHhB,iBAAiB;QADrC,OAAO;OACa,iBAAiB,CA2BrC;IAAD,wBAAC;CA3BD,AA2BC,CA3B8C,yCAAmB,GA2BjE;kBA3BoB,iBAAiB","file":"","sourceRoot":"/","sourcesContent":["import G1009GameController from \"../../base/controller/aka-g1009-game-controller\";\nimport { G1009EventManager } from \"../../base/events/aka-g1009-event-manager\";\nimport G1009FeatureTrigger from \"../feature/aka-g1009-feature-trigger-actor\";\n\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class G1009BonusTrigger extends G1009FeatureTrigger {\n\n\t@property(sp.Skeleton)\n\tspineTransition: sp.Skeleton = null;\n\n    protected checkRuleTrigger(): boolean {\n\t\treturn G1009GameController.GetInstance().CheckBonusPointTrigger();\n\t}\n\n\tprotected notifyEnterFeature() {\n\t\tG1009EventManager.GetInstance().notify(\"EnterBonus\", G1009GameController.GetInstance().GetWinBonus());\n\t}\n\n\tprotected showContent(): void {\n\t\tthis.notifyEnterFeature();\t\n\t\tG1009EventManager.GetInstance().notify('PlaySFX', { sfxName: \"sfx_bonustransition\", isLoop: false });\n\t\tthis.spineTransition.node.active = true;\n\t\tthis.spineTransition.setAnimation(0, \"animation\", false);\t\t\n\t\tcc.tween(this.node).delay(2).call(() => {\n\t\t\tG1009EventManager.GetInstance().notify(\"BonusWinComplete\");\n\t\t\tthis.reset();\n\t\t}).start();\n\t}\n\n\tprotected reset(): void {\n\t\tthis.spineTransition.node.active = false;\n\t}\n}\n"]}