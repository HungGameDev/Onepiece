{"version":3,"sources":["assets/Script/UI/change-bet/aka-g1009-change-bet-actor.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import G1009Util from \"../../base/Util/aka-g1009-number-converter\";\nimport { G1009EventManager } from \"../../base/events/aka-g1009-event-manager\";\nimport { G1009BalanceModel } from \"../../models/aka-g1009-balance-model\";\nimport { G1009BetModel } from \"../../models/aka-g1009-bet-model\";\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class G1009ChangeBetActor extends cc.Component {\n\t@property(cc.Label)\n\tprivate lblBetPerLine: cc.Label = null;\n\t@property(cc.Label)\n\tprivate lblTotalBetPoint: cc.Label = null;\n\t@property(cc.Label)\n\tprivate lblBalance: cc.Label = null;\n\t@property(cc.Button)\n\tprivate buttonShowBet: cc.Button = null;\n\n\n\tprotected start(): void {\n\t\tG1009EventManager.GetInstance().register(\"resume\", this.onShowBetPanel.bind(this));\n\t\tG1009EventManager.GetInstance().register(\"ShowBetPanel\", this.onShowBetPanel.bind(this));\n\t\tG1009EventManager.GetInstance().register(\"BalanceChange\", this.onBalanceChange.bind(this));\n\t\tG1009EventManager.GetInstance().register(\"Spin\", this.onLockButton.bind(this));\n\t\tG1009EventManager.GetInstance().register(\"ActiveAuto\", this.onLockButton.bind(this));\n\t\tG1009EventManager.GetInstance().register(\"SetBet\", this.SetBetValues.bind(this));\n\t}\n\n\tprivate onLockButton(): void {\n\t\tthis.buttonShowBet.interactable = false;\n\t\n\t}\n\n\tprivate onSpinComplete(): void {\n\t\tthis.buttonShowBet.interactable = this.validatorButtonIncreaseBet();\n\t\t\n\t}\n\n\tprivate onBalanceChange(point): void {\n\t\tthis.lblBalance.string = G1009Util.Instance().NumberFormat(point);\n\t}\n\n\tprivate onShowBetPanel(): void {\n\t\tthis.lblBetPerLine.string = G1009Util.Instance().NumberFormat(G1009BetModel.GetInstance().GetCurrentBetPerLine());\n\t\tthis.lblBalance.string = G1009Util.Instance().NumberFormat(G1009BalanceModel.GetInstance().GetBalance());\n\t\tthis.lblTotalBetPoint.string = G1009Util.Instance().NumberFormat(G1009BetModel.GetInstance().GetTotalBetPoint());\n\t\tthis.buttonShowBet.interactable = this.validatorButtonIncreaseBet();\n\t\t\n\t}\n\n\tprivate validatorButtonIncreaseBet(): boolean {\n\t\treturn G1009BetModel.GetInstance().GetNextTotalBetPoint() <= G1009BalanceModel.GetInstance().GetBalance() && G1009BetModel.GetInstance().GetNextBetPerLine() != G1009BetModel.GetInstance().GetCurrentBetPerLine();\n\t}\n\n\tprivate validatorButtonDecreaseBet(): boolean {\n\t\treturn G1009BetModel.GetInstance().GetPreviousBetPerLine() <= G1009BalanceModel.GetInstance().GetBalance() && G1009BetModel.GetInstance().GetPreviousBetPerLine() != G1009BetModel.GetInstance().GetCurrentBetPerLine();\n\t}\n\n\tpublic IncreaseBetPerLine() {\n\t\tif (this.validatorButtonIncreaseBet())\n\t\t{\n\t\t\tG1009EventManager.GetInstance().notify(\"SetBetIncrease\",G1009BetModel.GetInstance().GetNextBetPerLineIndex());\n\t\t\tG1009BetModel.GetInstance().IncreaseBetPerLine();\t\t\t\t\t\n\t\t}\n\t\telse\n\t\t{\n\t\t\tG1009BetModel.GetInstance().SetBetToMin();\t\t\n\t\t\tG1009EventManager.GetInstance().notify(\"SetBetIncrease\",0);\n\t\t}\n\t\tthis.changeBet();\n\t}\n\n\tpublic DecreaseBetPerLine() {\n\t\tif (this.validatorButtonDecreaseBet())\n\t\t{\n\t\t\tG1009BetModel.GetInstance().DecreaseBetPerLine();\n\t\t\tthis.changeBet();\n\t\t}\n\t}\n\n\tpublic SetBetValues(betIndex: number) {\n\t\tG1009BetModel.GetInstance().SetBetbyIndex(betIndex);\n\t\tthis.changeBet();\t\n\t}\n\n\tprivate changeBet(): void {\n\n\t\tthis.lblBetPerLine.string = G1009Util.Instance().NumberFormat(G1009BetModel.GetInstance().GetCurrentBetPerLine());\n\t\tthis.lblTotalBetPoint.string = G1009Util.Instance().NumberFormat(G1009BetModel.GetInstance().GetTotalBetPoint());\n\t\tG1009EventManager.GetInstance().notify(\"ChangeBet\");\n\t}\n\n\tpublic ShowBetClick():void\n\t{\n\t\tthis.node.active = !this.node.active;\n\t}\n}"]}