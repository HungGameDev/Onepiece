{"version":3,"sources":["assets/Script/UI/popup/aka-g1009-button-controller.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { G1009EventManager } from \"../../base/events/aka-g1009-event-manager\";\nimport G1009ButtonActor from \"./aka-g1009-button\";\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class G1009ButtonControllerActor extends cc.Component {\n\n\t@property(G1009ButtonActor)\n\tspinButton: G1009ButtonActor = null;\n\n\t@property(G1009ButtonActor)\n\tstopSpinButton: G1009ButtonActor = null;\n\n\t@property(cc.Label)\n\tprivate lblspinCount: cc.Label = null;\n\n\t@property(cc.Toggle)\n\tturboButton: cc.Toggle = null;\n\n\tspinLeft: number = 0;\n\n\tisToggleMoving: boolean = false;\n\tprivate isAuto: boolean = false;\n\t\n\tprotected start(): void {\n\t\tthis.register();\n\t}\n\n\tprivate register(): void {\t\n\t\tG1009EventManager.GetInstance().register(\"StopAuto\", this.onStopAuto.bind(this));\n\t\tG1009EventManager.GetInstance().register(\"Spin\", this.OnSpinClicked.bind(this));\n\t\tG1009EventManager.GetInstance().register(\"StopImmediately\", this.OnStopSpinClicked.bind(this));\n\t\tG1009EventManager.GetInstance().register(\"ShowBetPanel\", this.OnResetSpin.bind(this));\n\t\tG1009EventManager.GetInstance().register(\"SpinStarted\", this.activeStopButton.bind(this));\n\t\tG1009EventManager.GetInstance().register(\"NextScrollData\", this.onNextScrollData.bind(this));\n\t\tG1009EventManager.GetInstance().register(\"FeatureTrigger\", this.checkToActiveSpinLeft.bind(this));\n\t\tG1009EventManager.GetInstance().register(\"resume\", this.onResume.bind(this));\n\t\tG1009EventManager.GetInstance().register(\"BigWinPresentationStarted\", this.onBigWinStarted.bind(this));\n\t\tG1009EventManager.GetInstance().register(\"JackpotPresentationStarted\", this.onBigWinStarted.bind(this));\n\t\tG1009EventManager.GetInstance().register(\"SpinComplete\",this.onSpinComplete.bind(this));\n\n\t}\n\n\tprivate onNextScrollData(data: any): void {\n\t\tthis.spinLeft = data.freespinLeft;\n\t}\n\n\tpublic onResume(): void {\n\t\tthis.spinButton.Disable();\n\t\tthis.stopSpinButton.Enable();\n\t\tthis.checkToActiveSpinLeft();\n\t}\n\n\tpublic onBigWinStarted(): void {\n\t\tthis.spinButton.Disable();\n\t\tthis.stopSpinButton.Enable();\n\t\tthis.stopSpinButton.Interactable(true);\n\t\n\t}\n\n\tpublic onActiveAuto(): void {\n\t\tthis.isAuto = true;\n\t\tthis.stopSpinButton.Enable();\n\t\tthis.spinButton.Disable();\n\t\t\n\t}\n\n\tprivate onStopAuto(): void {\n\t\tthis.isAuto = false;\n\t}\n\n\tpublic OnSpinClicked(): void {\n\t\tif (this.isAuto == false)\n\t\t{\n\t\t\tthis.spinButton.Disable();\n\t\t\tthis.stopSpinButton.Enable();\n\t\t}\t\t\n\t}\n\n\tpublic OnStopSpinClicked(): void {\n\n\t\tthis.stopSpinButton.Interactable(false);\n\t}\n\n\tpublic onSpinComplete():void{\n\t\tthis.stopSpinButton.Interactable(false);\n\t}\n\n\tprivate activeStopButton(): void {\n\t\tthis.spinLeft -= 1;\n\t\tthis.checkToActiveSpinLeft();\n\n\t\tthis.stopSpinButton.Interactable(true);\n\t}\n\n\tprivate checkToActiveSpinLeft() {\n\t\tthis.onStopAuto();\n\t\tthis.lblspinCount.string = this.spinLeft > 0 ? this.spinLeft.toString() : \"0\";\n\t}\n\n\tprivate OnResetSpin(): void {\n\t\tif (this.isAuto == false)\n\t\t{\n\t\t\tthis.stopSpinButton.Disable();\n\t\t\tthis.spinButton.Enable();\n\t\n\t\t}\n\t}\n\n\tpublic OnTurboClicked(action: cc.Toggle): void {\n\t\tG1009EventManager.GetInstance().notify(\"Turbo\", action.isChecked);\n\t}\n\n\tpublic OnAutoClicked(action: cc.Toggle): void {\n\t\tif (action.isChecked)\n\t\t{\n\t\t\tthis.onActiveAuto();\n\t\t\tG1009EventManager.GetInstance().notify(\"ActiveAuto\");\n\t\t\t\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.onStopAuto();\n\t\t\tG1009EventManager.GetInstance().notify(\"StopAuto\");\n\t\t\tG1009EventManager.GetInstance().notify(\"StopImmediately\");\n\t\t}\n\t}\n\n}\n"]}