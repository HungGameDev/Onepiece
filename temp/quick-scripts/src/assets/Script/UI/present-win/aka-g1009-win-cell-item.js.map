{"version":3,"sources":["assets/Script/UI/present-win/aka-g1009-win-cell-item.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { NEAR_WIN_SYMBOL } from \"../../aka-g1009-game-config\";\nimport { G1009AnimationProviderManager } from \"../../base/animation/aka-g1009-animation-provider\";\nimport { G1009SpriteProviderManagerActor } from \"../provider/aka-g1009-sprite-frame-provider\";\n\nconst { ccclass, property } = cc._decorator;\n@ccclass\nexport default class G1009WinCellItemActor extends cc.Component {\n\n\t@property()\n\tcellIndex: number = -1;\n\t@property\n\tprivate dimColor: cc.Color = cc.Color.WHITE;\n\n\tprivate skeleton: sp.Skeleton = null;\n\tprivate sprite: cc.Sprite = null;\n\tprivate SymbolFormat: string = 'symbol_%s';\n\tprivate itemID: string = 'a';\n\n\tprotected onLoad(): void {\n\t\tthis.sprite = this.node.getComponentInChildren(cc.Sprite);\n\t\tthis.sprite.node.active = false;\n\t\tthis.skeleton = this.node.getComponentInChildren(sp.Skeleton);\n\t}\n\n\tprivate setNormalFrame(): void {\n\t\tif (this.itemID == \"Blank\" || this.itemID == \"Reactor\")\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\tthis.skeleton.node.active = true;\n\t\tlet data = G1009AnimationProviderManager.Instance().GetAnimation(cc.js.formatStr(this.SymbolFormat, this.itemID));\n\t\tthis.skeleton.skeletonData = (data);\n\t\tthis.skeleton.setAnimation(0, \"animation\", false);\n\t}\n\n\tprivate setOldFrame(): void {\n\t\tif (this.itemID == \"Blank\" || this.itemID == \"Reactor\")\n\t\t{\n\t\t\tthis.skeleton.node.active = false;\n\t\t\treturn;\n\t\t}\n\t\tlet data = G1009AnimationProviderManager.Instance().GetAnimation(cc.js.formatStr(this.SymbolFormat, this.itemID));\n\t\tthis.skeleton.skeletonData = (data);\n\t\tthis.skeleton.setAnimation(0, \"animation\", false);\n\t}\n\n\tpublic CheckValid(): boolean {\n\t\treturn this.sprite != null;\n\t}\n\n\tpublic GetItemID(): string {\n\t\treturn this.itemID;\n\t}\n\n\tpublic SetOldItem(item: string): void {\n\t\tif (item != null)\n\t\t{\n\t\t\tthis.itemID = item;\n\t\t\tthis.setOldFrame();\n\t\t}\n\t}\n\n\tpublic SetItem(item: string): void {\n\t\tif (item != null)\n\t\t{\n\t\t\tthis.itemID = item;\n\t\t\tthis.setNormalFrame();\n\t\t}\n\t}\n\n\tpublic PlayWinAnimation(): void {\n\t\tthis.Reset();\n\t\tif (this.itemID == \"Blank\" || this.itemID == \"Reactor\")\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\tif (NEAR_WIN_SYMBOL.includes(this.itemID))\n\t\t{\n\t\t\tthis.skeleton.setAnimation(0, \"Win_Loop\", false);\n\t\t} else\n\t\t{\n\t\t\tthis.skeleton.setAnimation(0, \"Win\", false);\n\t\t}\n\t}\n\n\tpublic PlayWinTrigger(): void {\n\t\tthis.Reset();\n\t\tif (this.itemID == \"Blank\" || this.itemID == \"Reactor\")\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\tlet track = this.skeleton.setAnimation(0, \"Win_Appear\", false);\n\t\tthis.skeleton.setTrackCompleteListener(track, () => {\n\t\t\tthis.skeleton.setAnimation(0, \"Win_Loop\", true);\n\t\t});\n\t}\n\n\tpublic SetDim(): void {\n\t\tthis.skeleton.node.color = this.dimColor;\n\t\tthis.sprite.node.color = this.dimColor;\n\t\tif (this.itemID == \"Blank\" || this.itemID == \"Reactor\")\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\tif (this.skeleton)\n\t\t{\n\t\t\tthis.skeleton.clearTrack(0);\n\t\t\tthis.skeleton.setBonesToSetupPose();\n\t\t}\n\t}\n\n\tpublic Reset(): void {\n\t\tthis.skeleton.node.color = cc.Color.WHITE;\n\t\tthis.sprite.node.color = cc.Color.WHITE;\n\t}\n\n\tpublic Hide(): void {\n\t\tthis.node.opacity = 0;\n\t\tif (this.itemID == \"Blank\" || this.itemID == \"Reactor\")\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\tif (this.skeleton)\n\t\t{\n\t\t\tthis.skeleton.clearTrack(0);\n\t\t\tthis.skeleton.setBonesToSetupPose();\n\t\t}\n\t}\n\n\tpublic Show(): void {\n\t\tthis.node.opacity = 255;\n\t}\n\n\tpublic ShowJackpotWin(): void {\n\t\tthis.node.opacity = 255;\n\t\tif (this.itemID == \"Core\")\n\t\t{\n\t\t\tlet track = this.skeleton.setAnimation(0, \"Win_Appear\", false);\n\t\t\tthis.skeleton.setTrackCompleteListener(track, () => {\n\t\t\t\tthis.skeleton.setAnimation(0, \"Win_Loop\", true);\n\t\t\t});\n\t\t}\n\t}\n\n\tpublic ShowStaticFrame(): void {\n\t\tif (this.itemID == \"Blank\" || this.itemID == \"Reactor\")\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\t// this.skeleton.node.active = false;\n\t\tthis.sprite.node.color = this.dimColor;\n\t\t// this.sprite.node.active = true;\n\t\tthis.sprite.spriteFrame = G1009SpriteProviderManagerActor.Instance().GetFrame(cc.js.formatStr(this.SymbolFormat, this.itemID));\n\t}\n\n\tpublic HideStaticFrame(): void {\n\t\tif (this.itemID == \"Blank\" || this.itemID == \"Reactor\")\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\tthis.skeleton.node.active = true;\n\t\tthis.sprite.node.active = false;\n\t}\n}"]}