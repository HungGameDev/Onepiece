{"version":3,"sources":["assets/Script/Test/aka_1009_TestGameManager.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { GameManager1009, GAME_MANAGER_EVENT, PlayerData1009, JackpotInfo, StartGameData1009, PopupInfoMessage } from \"../GameManager/aka_1009-GameManager\";\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class TestGameManager extends cc.Component {\n    @property(cc.Button)\n    spinBtn: cc.Button = null;\n\n    @property(cc.EditBox)\n    betIdEditbox: cc.EditBox = null;\n\n    private gameManager1009: GameManager1009;\n\n    private currentSession: PlayerData1009;\n\n    constructor () {\n        super();\n\n        this.gameManager1009 = new GameManager1009();\n    }\n\n    protected onLoad(): void {\n        this.gameManager1009.registerEvent(GAME_MANAGER_EVENT.START_GAME_SUCCESS, (data: StartGameData1009) => {\n            console.log('START_GAME_SUCCESS', data);\n            this.currentSession = data.playerState;\n        })\n\n        this.gameManager1009.registerEvent(GAME_MANAGER_EVENT.NORMAL_GAME_RESULT, (data: PlayerData1009) => {\n            console.log('NORMAL_GAME_RESULT', data);\n            this.currentSession = data;\n        })\n\n        this.gameManager1009.registerEvent(GAME_MANAGER_EVENT.FREE_GAME_RESULT, (data: PlayerData1009) => {\n            console.log('FREE_GAME_RESULT', data);\n            this.currentSession = data;\n        })\n\n        this.gameManager1009.registerEvent(GAME_MANAGER_EVENT.BONUS_GAME_RESULT, (data: PlayerData1009) => {\n            console.log('BONUS_GAME_RESULT', data);\n            this.currentSession = data;\n        })\n\n        this.gameManager1009.registerEvent(GAME_MANAGER_EVENT.PLAYER_MONEY_UPDATE, (data: number) => {\n            console.log('PLAYER_MONEY_UPDATE', data);\n        })\n        \n        this.gameManager1009.registerEvent(GAME_MANAGER_EVENT.JACKPOT_UPDATE, (data: {[key:string]: JackpotInfo}) => {\n            console.log('JACKPOT_UPDATE', data);\n        })\n\n        this.gameManager1009.registerEvent(GAME_MANAGER_EVENT.POPUP_INFO_MESSAGE, (data: PopupInfoMessage) => {\n            console.log('POPUP_INFO_MESSAGE', data);\n        })\n\n        this.spinBtn.node.on('click', () => {\n            if (!this.currentSession || this.currentSession.isFinish) {\n                this.gameManager1009.normalSpin(this.betIdEditbox.string);\n            } else if (this.currentSession.freeGameRemain > 0) {\n                this.gameManager1009.freeSpin();\n            } else if (this.currentSession.bonusGameRemain > 0) {\n                this.gameManager1009.bonusPlay(1);\n            }\n        })\n    }\n\n    start () {\n        this.gameManager1009.startGame();\n\n        this.gameManager1009.getJPHistory(0, 8).then((data) => {\n            console.log('getJPHistory', data);\n        })\n\n        this.gameManager1009.getBetHistory(0, 8).then((data) => {\n            console.log('getBetHistory', data);\n        })\n    }\n}\n"]}