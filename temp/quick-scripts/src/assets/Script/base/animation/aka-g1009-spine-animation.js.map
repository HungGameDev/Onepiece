{"version":3,"sources":["assets/Script/base/animation/aka-g1009-spine-animation.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import G1009AnimationActor from \"./aka-g1009-animation\";\nimport G1009SpineAnimationHandler from \"./aka-g1009-spine-animation-handler\";\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class G1009SpineAnimationActor extends G1009AnimationActor {\n\n    @property\n    skeletonData: sp.SkeletonData = new sp.SkeletonData;\n\n\n    @property\n    defaultDuration: number = 1;\n\n    @property\n    animationData: G1009SpineAnimationData[] = [];\n \n    isLoadCompleted: boolean = false;\n    spineSkeleton = null;\n    animationHandler= null;\n    trackEntry = null;\n    spineData:G1009SpineData = null;\n    \n    public constructor()\n    {\n        super();\n        this.isLoadCompleted= false;\n        this.spineSkeleton = null;\n        this.animationHandler= null;\n        this.trackEntry = null;\n        this.spineData = null;\n    }\n    public Play(target: cc.Node, events: Function[], callback: Function): void {\n        this.animationHandler = new G1009SpineAnimationHandler(this, target);\n        this.animationHandler.Play(target, events, callback);\n    }\n\n    public Stop(isCallComplete: boolean): void {\n        if (this.animationHandler) {\n            this.animationHandler.Stop(isCallComplete);\n            this.animationHandler.Destroy();\n            this.animationHandler = null;\n        }\n        this.reset();\n    }\n\n    public Clone(): any {\n        let animation = new G1009SpineAnimationActor;\n        animation.skeletonData = this.skeletonData;\n        animation.defaultDuration = this.defaultDuration;\n        animation.animationData = this.animationData;    \n        return animation;\n    }\n\n    public GetDuration(): number {\n        let duration = this.defaultDuration;\n        if (this.trackEntry) {\n            duration = this.trackEntry.animationEnd;\n        }\n        return duration;\n    }\n\n    public GetIsPlaying(): any{\n        return this.trackEntry && ( this.trackEntry.trackTime <= this.trackEntry.animationEnd);\n     }\n\n    private reset(): void {\n        this.isLoadCompleted = null;\n        this.spineSkeleton = null;\n        this.trackEntry = null;\n    }\n}\n\n\nexport  class G1009SpineAnimationData {\n    public AnimationName: string;\n    public constructor(){};\n}\n\n\nexport class G1009SpineData {\n\n    public Name: string ;\n    public IsLoop: boolean = false;\n    public TrackIndex: number = 0;\n    public TimeScale: number = 0;\n    public IsCallComplete: boolean = false;\n    public Events: G1009SpineEventData[] = [];\n    public StaticSpriteFrame: cc.SpriteFrame = null;\n    public constructor() {\n        \n        this.Name = \"animation\";\n        this.IsLoop = false;\n        this.TrackIndex = 0;\n        this.TimeScale = 0;\n        this.IsCallComplete = false;\n        this.Events = [];\n        this.StaticSpriteFrame =new cc.SpriteFrame;\n    };\n}\n\n\nexport class G1009SpineEventData {\n    public Name: string = '';\n    public Time: number = 0;\n    public constructor(){};\n}"]}