{"version":3,"sources":["assets/Script/UI/freespins/aka-g1009-freespins-trigger-actor.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,6FAAkF;AAClF,qFAA8E;AAC9E,8FAA6E;AACvE,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAAmD,yCAAmB;IAAtE;QAAA,qEAsCC;QAnCA,WAAK,GAAgB,IAAI,CAAC;QAG1B,yBAAmB,GAAY,IAAI,CAAC;;IAgCrC,CAAC;IA9BU,qCAAK,GAAf;QACC,2CAAiB,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,uBAAuB,EAAE,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACpG,2CAAiB,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,QAAQ,EAAE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;IACjF,CAAC;IAES,gDAAgB,GAA1B;QACC,OAAO,mCAAmB,CAAC,WAAW,EAAE,CAAC,oBAAoB,EAAE,CAAC;IACjE,CAAC;IAES,kDAAkB,GAA5B;QACC,2CAAiB,CAAC,WAAW,EAAE,CAAC,MAAM,CAAC,gBAAgB,CAAC,CAAC;IAC1D,CAAC;IACS,2CAAW,GAArB;QAAA,iBAaC;QAZA,IAAI,IAAI,CAAC,KAAK,IAAI,IAAI;YACrB,OAAO;QACR,IAAI,CAAC,mBAAmB,CAAC,MAAM,GAAG,IAAI,CAAC;QACvC,2CAAiB,CAAC,WAAW,EAAE,CAAC,MAAM,CAAC,SAAS,EAAE,EAAE,OAAO,EAAE,aAAa,EAAE,MAAM,EAAE,KAAK,EAAE,CAAC,CAAC;QAC7F,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;QAC9B,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,EAAE,WAAW,EAAE,KAAK,CAAC,CAAC;QAC/C,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC;QAClG,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;YACjC,KAAI,CAAC,kBAAkB,EAAE,CAAC;QAC3B,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;YAChB,KAAI,CAAC,KAAK,EAAE,CAAC;QACd,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC;IACZ,CAAC;IAES,qCAAK,GAAf;QACC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;IAChC,CAAC;IAlCD;QADC,QAAQ,CAAC,EAAE,CAAC,QAAQ,CAAC;wDACI;IAG1B;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;sEACkB;IANhB,qBAAqB;QADzC,OAAO;OACa,qBAAqB,CAsCzC;IAAD,4BAAC;CAtCD,AAsCC,CAtCkD,yCAAmB,GAsCrE;kBAtCoB,qBAAqB","file":"","sourceRoot":"/","sourcesContent":["import G1009GameController from \"../../base/controller/aka-g1009-game-controller\";\nimport { G1009EventManager } from \"../../base/events/aka-g1009-event-manager\";\nimport G1009FeatureTrigger from \"../feature/aka-g1009-feature-trigger-actor\";\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class G1009FreespinsTrigger extends G1009FeatureTrigger {\n\n\t@property(sp.Skeleton)\n\tspine: sp.Skeleton = null;\n\n\t@property(cc.Node)\n\tbannerCountFreespin: cc.Node = null;\n\n\tprotected start(): void {\n\t\tG1009EventManager.GetInstance().register(\"featuretriggerstarted\", this.onFeatureTrigger.bind(this));\n\t\tG1009EventManager.GetInstance().register(\"resume\", this.showContent.bind(this));\n\t}\n\n\tprotected checkRuleTrigger(): boolean {\n\t\treturn G1009GameController.GetInstance().CheckFreespinTrigger();\n\t}\n\n\tprotected notifyEnterFeature() {\n\t\tG1009EventManager.GetInstance().notify(\"EnterFreespins\");\n\t}\n\tprotected showContent(): void {\n\t\tif (this.spine == null)\n\t\t\treturn;\n\t\tthis.bannerCountFreespin.active = true;\n\t\tG1009EventManager.GetInstance().notify('PlaySFX', { sfxName: \"sfx_freewin\", isLoop: false });\n\t\tthis.spine.node.active = true;\n\t\tthis.spine.setAnimation(0, \"animation\", false);\n\t\tcc.tween(this.bannerCountFreespin).delay(4).to(0.2, { scale: 0.9 }).to(0.2, { scale: 1 }).start();\n\t\tcc.tween(this.node).delay(5).call(() => {\n\t\t\tthis.notifyEnterFeature();\n\t\t}).delay(1).call(() => {\n\t\t\tthis.reset();\n\t\t}).start();\n\t}\n\n\tprotected reset(): void {\n\t\tthis.spine.node.active = false;\n\t}\n}"]}