{"version":3,"sources":["assets\\Script\\UI\\freespins\\Slot45-freespins-trigger-actor.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,uFAAgF;AAChF,+EAA4E;AAC5E,wFAA2E;AACrE,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAAoD,0CAAoB;IAAxE;QAAA,qEAsDC;QAnDA,yBAAmB,GAAY,IAAI,CAAC;QAEpC,2BAAqB,GAAY,IAAI,CAAC;;IAiDvC,CAAC;IA/CU,sCAAK,GAAf;QACC,iBAAM,KAAK,WAAE,CAAC;QACd,yCAAkB,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,QAAQ,EAAE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACjF,IAAI,CAAC,kBAAkB,EAAE,CAAC;IAC3B,CAAC;IAES,iDAAgB,GAA1B;QACC,OAAO,gCAAoB,CAAC,WAAW,EAAE,CAAC,oBAAoB,EAAE,CAAC;IAClE,CAAC;IAES,mDAAkB,GAA5B;QACC,yCAAkB,CAAC,WAAW,EAAE,CAAC,MAAM,CAAC,gBAAgB,CAAC,CAAC;IAC3D,CAAC;IAES,4CAAW,GAArB;QAAA,iBAqBC;QApBA,yCAAkB,CAAC,WAAW,EAAE,CAAC,MAAM,CAAC,SAAS,EAAE,EAAE,OAAO,EAAE,aAAa,EAAE,MAAM,EAAE,KAAK,EAAE,CAAC,CAAC;QAC9F,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC;QAC3B,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,qBAAqB,CAAC;aACnC,EAAE,CAAC,GAAG,EAAE,EAAE,OAAO,EAAE,GAAG,EAAC,KAAK,EAAG,CAAC,EAAE,CAAC;aACnC,EAAE,CAAC,GAAG,EAAE,EAAE,KAAK,EAAG,GAAG,EAAC,CAAC;aACvB,EAAE,CAAC,GAAG,EAAE,EAAE,KAAK,EAAG,CAAC,EAAC,CAAC;aACrB,EAAE,CAAC,GAAG,EAAE,EAAE,KAAK,EAAG,GAAG,EAAC,CAAC;aACvB,EAAE,CAAC,GAAG,EAAE,EAAE,KAAK,EAAG,CAAC,EAAC,CAAC;aACrB,KAAK,CAAC,CAAC,CAAC;aACR,IAAI,CAAC;YACL,KAAI,CAAC,kBAAkB,EAAE,CAAC;YAC1B,yCAAkB,CAAC,WAAW,EAAE,CAAC,MAAM,CAAC,oBAAoB,CAAC,CAAC;YAC9D,KAAI,CAAC,mBAAmB,CAAC,MAAM,GAAG,IAAI,CAAC;YACvC,EAAE,CAAC,KAAK,CAAC,KAAI,CAAC,IAAI,CAAC;iBAClB,KAAK,CAAC,GAAG,CAAC;iBACV,IAAI,CAAC;gBACL,KAAI,CAAC,kBAAkB,EAAE,CAAC;YAC3B,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC;QACZ,CAAC,CAAC;aACD,KAAK,EAAE,CAAC;IACV,CAAC;IAES,4CAAW,GAArB;QACC,IAAI,CAAC,mBAAmB,CAAC,MAAM,GAAG,KAAK,CAAC;IACzC,CAAC;IAES,mDAAkB,GAA5B;QACC,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,KAAK,CAAC;QAC5B,IAAI,CAAC,qBAAqB,CAAC,KAAK,GAAG,CAAC,CAAC;QACrC,IAAI,CAAC,qBAAqB,CAAC,OAAO,GAAG,CAAC,CAAC;IAExC,CAAC;IAlDD;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;uEACkB;IAEpC;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;yEACoB;IALlB,sBAAsB;QAD1C,OAAO;OACa,sBAAsB,CAsD1C;IAAD,6BAAC;CAtDD,AAsDC,CAtDmD,sCAAoB,GAsDvE;kBAtDoB,sBAAsB","file":"","sourceRoot":"/","sourcesContent":["import Slot45GameController from \"../../base/controller/Slot45-game-controller\";\r\nimport { Slot45EventManager } from \"../../base/events/Slot45-event-manager\";\r\nimport Slot45FeatureTrigger from \"../feature/Slot45-feature-trigger-actor\";\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class Slot45FreespinsTrigger extends Slot45FeatureTrigger {\r\n\r\n\t@property(cc.Node)\r\n\tbannerCountFreespin: cc.Node = null;\r\n\t@property(cc.Node)\r\n\tbannerTriggerFreespin: cc.Node = null;\r\n\r\n\tprotected start(): void {\r\n\t\tsuper.start();\r\n\t\tSlot45EventManager.GetInstance().register(\"resume\", this.showContent.bind(this));\r\n\t\tthis.resetBannerTrigger();\r\n\t}\r\n\r\n\tprotected checkRuleTrigger(): boolean {\r\n\t\treturn Slot45GameController.GetInstance().CheckFreespinTrigger();\r\n\t}\r\n\r\n\tprotected notifyEnterFeature() {\r\n\t\tSlot45EventManager.GetInstance().notify(\"EnterFreespins\");\r\n\t}\r\n\r\n\tprotected showContent(): void {\r\n\t\tSlot45EventManager.GetInstance().notify('PlaySFX', { sfxName: \"sfx_freewin\", isLoop: false });\r\n\t\tthis.content.active = true;\r\n\t\tcc.tween(this.bannerTriggerFreespin)\r\n\t\t.to(0.2, { opacity: 255,scale : 1 })\r\n\t\t.to(0.1, { scale : 1.2})\r\n\t\t.to(0.1, { scale : 1})\r\n\t\t.to(0.1, { scale : 1.1})\r\n\t\t.to(0.1, { scale : 1})\r\n\t\t.delay(1)\r\n\t\t.call(()=>{\r\n\t\t\tthis.resetBannerTrigger();\r\n\t\t\tSlot45EventManager.GetInstance().notify(\"CountFreespinsLeft\");\r\n\t\t\tthis.bannerCountFreespin.active = true;\r\n\t\t\tcc.tween(this.node)\r\n\t\t\t.delay(0.5)\r\n\t\t\t.call(()=>{\r\n\t\t\t\tthis.notifyEnterFeature();\r\n\t\t\t}).start();\r\n\t\t})\r\n\t\t.start();\r\n\t}\r\n\r\n\tprotected hideContent(): void {\r\n\t\tthis.bannerCountFreespin.active = false;\r\n\t}\r\n\r\n\tprotected resetBannerTrigger(): void {\r\n\t\tthis.content.active = false;\r\n\t\tthis.bannerTriggerFreespin.scale = 3;\r\n\t\tthis.bannerTriggerFreespin.opacity = 0;\r\n\r\n\t}\r\n}"]}