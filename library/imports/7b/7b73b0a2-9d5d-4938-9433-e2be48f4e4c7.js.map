{"version":3,"sources":["assets/Script/base/aka-g1009-connect-server.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { GAME_MANAGER_EVENT, GameManager1009, JackpotInfo, JackpotMessage, PlayerData1009, PopupInfoMessage, StartGameData1009 } from \"../GameManager/aka_1009-GameManager\";\nimport { G1009WinLineResult } from \"../UI/present-win/aka-g1009-present-win-panel\";\nimport { NEAR_WIN_SYMBOL, SlottyParameter, reelCount, rowCount } from \"../aka-g1009-game-config\";\nimport { ComboData } from \"../avenger-game/model/combo-data\";\nimport { G1009BalanceModel } from \"../models/aka-g1009-balance-model\";\nimport { G1009BetModel } from \"../models/aka-g1009-bet-model\";\nimport { G1009EventManager } from \"./events/aka-g1009-event-manager\";\n\nconst { ccclass, property } = cc._decorator;\n\nexport const SLOTTY_ITEM = {\n\t'Bonus': 'Bonus',\n\t'Scatter': 'Scatter',\n\t'Wild': 'Wild',\n\t'Ace': 'Ace',\n\t'King': 'King',\n\t'Queen': 'Queen',\n\t'Jack': 'Jack',\n}\n\nexport const WIN_LINE_MAPPING = [\n\t[5, 6, 7, 8, 9],\n\t[0, 1, 2, 3, 4],\n\t[10, 11, 12, 13, 14],\n\t[5, 6, 2, 8, 9],\n\t[5, 6, 12, 8, 9],\n\t[0, 1, 7, 13, 14],\n\t[10, 11, 7, 3, 4],\n\t[0, 11, 2, 13, 4],\n\t[10, 1, 12, 3, 14],\n\t[5, 1, 12, 3, 9],\n\t[10, 6, 2, 8, 14],\n\t[1, 6, 12, 8, 4],\n\t[5, 11, 7, 3, 9],\n\t[5, 1, 7, 13, 9],\n\t[10, 6, 7, 8, 14],\n\t[0, 6, 7, 8, 4],\n\t[5, 11, 12, 13, 9],\n\t[5, 1, 2, 3, 9],\n\t[10, 11, 7, 3, 4],\n\t[0, 1, 7, 13, 14]\n];\n\n@ccclass\nexport default class ConnectServer extends cc.Component {\n\n\tprivate gameManager1009: GameManager1009;\n\n\tprivate currentSession: any;\n\tprivate betInfos: any;\n\tprivate isFreespins: boolean = false;\n\tprivate totalFreespins: number = 0;\n\tprivate dataJackpot: any;\n\n\tconstructor() {\n\t\tsuper();\n\n\t\tthis.gameManager1009 = GameManager1009.getInstance();\n\t}\n\n\tprotected onLoad(): void {\n\t\tthis.register();\n\t}\n\n\tstart() {\n\t\t//hard set bet multipliser = 9\n\t\tG1009BetModel.GetInstance().SetBetMultiplier(WIN_LINE_MAPPING.length);\n\t\tthis.gameManager1009.startGame();\n\n\t\t// this.gameManager1009.getJPHistory(0, 8).then((data) => {\n\t\t// \tconsole.log('getJPHistory', data);\n\t\t// })\n\n\t\t// this.gameManager1009.getBetHistory(0, 8).then((data) => {\n\t\t// \tconsole.log('getBetHistory', data);\n\t\t// })\n\n\t\tif (this.dataJackpot) {\n\t\t\tsetTimeout(() => {\n\t\t\t\tG1009EventManager.GetInstance().notify('JackpotUpdate', this.dataJackpot);\n\t\t\t}, 100);\n\t\t}\n\t}\n\n\tprivate register(): void {\n\n\t\tthis.gameManager1009.registerEvent(GAME_MANAGER_EVENT.START_GAME_SUCCESS, (data: StartGameData1009) => {\n\t\t\tconsole.log('START_GAME_SUCCESS', data);\n\n\t\t\tthis.currentSession = data.playerState;\n\t\t\tthis.betInfos = data.betInfos;\n\t\t\tlet betPerLines = data.betInfos.map(betInfo => betInfo.betDenom);\n\t\t\tG1009BetModel.GetInstance().SetBetPerLines(betPerLines);\n\n\t\t\tG1009BalanceModel.GetInstance().SetBalance(this.gameManager1009.getPlayerMoney());\n\n\t\t\tG1009EventManager.GetInstance().notify(\"BetInfos\", this.betInfos);\n\t\t\tif (data.hasOwnProperty(\"playerState\") && data.playerState) {\n\t\t\t\t// G1009BetModel.GetInstance().SetCurrentBetPerLine(data.playerState.datas[0].content.bet);\n\t\t\t\tG1009BetModel.GetInstance().SetCurrentBetPerLine(100);\n\t\t\t}\n\t\t\tif (data.hasOwnProperty(\"allJackpotInfos\")) {\n\t\t\t\tthis.dataJackpot = data.allJackpotInfos;\n\t\t\t}\n\t\t\tif (this.currentSession && this.currentSession.hasOwnProperty(\"freeGameRemain\") && this.currentSession.freeGameRemain > 0) {\n\t\t\t\tthis.isFreespins = true;\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tlet resuilt = this.processNormalData();\n\n\t\t\t\t\tresuilt.featureDatas.push({\n\t\t\t\t\t\thitRule: \"freespins\",\n\t\t\t\t\t\ttotalFreespins: this.currentSession.freeGameRemain,\n\t\t\t\t\t\tisRetrigger: false,\n\n\t\t\t\t\t});\n\t\t\t\t\tG1009EventManager.GetInstance().notify(\"resume\", resuilt);\n\t\t\t\t}, 100);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (this.currentSession && this.currentSession.hasOwnProperty(\"bonusGameRemain\") && this.currentSession.bonusGameRemain > 0) {\n\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tlet resuilt = this.processNormalData();\n\t\t\t\t\t\tresuilt.featureDatas = [];\n\t\t\t\t\t\tG1009EventManager.GetInstance().notify(\"resumeBonus\", resuilt);\n\t\t\t\t\t}, 100);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tG1009EventManager.GetInstance().notify(\"init\");\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\n\t\tthis.gameManager1009.registerEvent(GAME_MANAGER_EVENT.NORMAL_GAME_RESULT, (data: PlayerData1009) => {\n\t\t\tconsole.log('NORMAL_GAME_RESULT', data);\n\t\t\tthis.currentSession = data;\n\t\t\tthis.nextScrollData();\n\t\t})\n\n\t\tthis.gameManager1009.registerEvent(GAME_MANAGER_EVENT.FREE_GAME_RESULT, (data: PlayerData1009) => {\n\t\t\tconsole.log('FREE_GAME_RESULT', data);\n\t\t\tthis.currentSession = data;\n\t\t\tthis.nextScrollData();\n\t\t})\n\n\t\tthis.gameManager1009.registerEvent(GAME_MANAGER_EVENT.BONUS_GAME_RESULT, (data: PlayerData1009) => {\n\t\t\tconsole.log('BONUS_GAME_RESULT', data);\n\t\t\tthis.currentSession = data;\n\t\t\tthis.nextScrollData();\n\t\t})\n\n\t\tthis.gameManager1009.registerEvent(GAME_MANAGER_EVENT.PLAYER_MONEY_UPDATE, (data: number) => {\n\t\t\tconsole.log('PLAYER_MONEY_UPDATE', data);\n\t\t\t// G1009BalanceModel.GetInstance().SetBalance(data);\n\t\t\t// G1009EventManager.GetInstance().notify(\"BalanceChange\", data);\n\t\t})\n\n\t\tthis.gameManager1009.registerEvent(GAME_MANAGER_EVENT.JACKPOT_UPDATE, (data: { [key: string]: JackpotInfo }) => {\n\t\t\tconsole.log('JACKPOT_UPDATE', data);\n\t\t\tG1009EventManager.GetInstance().notify('JackpotUpdate', data);\n\t\t})\n\n\t\tthis.gameManager1009.registerEvent(GAME_MANAGER_EVENT.JACKPOT_SHOW_MULTIPLE, (data: { [key: string]: JackpotMessage }) => {\n\t\t\tconsole.log('JACKPOT_SHOW_MULTIPLE', data);\n\t\t\tG1009EventManager.GetInstance().notify('JackpotShowMultiple', data);\n\t\t})\n\n\t\tthis.gameManager1009.registerEvent(GAME_MANAGER_EVENT.JACKPOT_HIDE_MULTIPLE, (data: { [key: string]: JackpotMessage }) => {\n\t\t\tconsole.log('JACKPOT_SHOW_MULTIPLE', data);\n\t\t\tG1009EventManager.GetInstance().notify('JackpotHideMultiple');\n\t\t})\n\n\t\tthis.gameManager1009.registerEvent(GAME_MANAGER_EVENT.POPUP_INFO_MESSAGE, (data: PopupInfoMessage) => {\n\t\t\tconsole.log('POPUP_INFO_MESSAGE', data);\n\t\t\tG1009EventManager.GetInstance().notify('PopupInfoMessage', data);\n\t\t})\n\n\t\tG1009EventManager.GetInstance().register(\"SpinRequest\", this.onSpinRequest.bind(this));\n\t\tG1009EventManager.GetInstance().register(\"PickUpRequest\", this.onPickUpRequest.bind(this));\n\t\tG1009EventManager.GetInstance().register(\"EndRound\", this.onEndRound.bind(this));\n\t\tG1009EventManager.GetInstance().register(\"ShowBetPanel\", this.onEndRound.bind(this));\n\t\tG1009EventManager.GetInstance().register(\"UpdateBetLine\", this.onUpdateBetLine.bind(this));\n\t}\n\n\tprivate onUpdateBetLine(betLines: number[]) {\n\t\tG1009BetModel.GetInstance().SetBetMultiplier(betLines.length);\n\t\tG1009EventManager.GetInstance().notify(\"ShowBetPanel\");\n\t}\n\n\tprivate onPickUpRequest(item: number): void {\n\t\tthis.gameManager1009.bonusPlay(item);\n\t}\n\n\tprivate onSpinRequest(requestData): void {\n\t\tif (requestData.isFreespin) {\n\t\t\tthis.gameManager1009.freeSpin();\n\t\t}\n\t\telse {\n\t\t\tlet betDenom = G1009BetModel.GetInstance().GetCurrentBetPerLine();\n\t\t\tlet betInfo = this.betInfos.filter((betInfo) => betInfo.betDenom == betDenom)[0];\n\t\t\tthis.gameManager1009.normalSpin(betInfo.betId);\n\t\t}\n\t}\n\n\tprivate processNormalData(): any {\n\t\tthis.fakeBalanceSpin();\n\t\tlet isEndround = false;\n\t\tlet isRetrigger = false;\n\t\tlet isExpandWild = false;\n\t\tlet winPoint = 0;\n\t\tlet featureData = {};\n\t\tfeatureData = {\n\t\t\thitRule: \"freespins\",\n\t\t\ttotalFreespins: this.currentSession.freeGameTotal,\n\t\t\tisRetrigger: false,\n\t\t};\n\t\tlet featureDatas = [];\n\t\tlet winBonus = [];\n\t\tvar cellsResult = [];\n\t\tlet WinLines: G1009WinLineResult[] = [];\n\t\tlet winScatters = [];\n\t\tlet freespintotalWinPoint = 0;\n\t\tlet jackpotWinPoint = 0;\n\t\tlet jackpotWinLine : G1009WinLineResult = null;\n\t\tlet totalWinPoint = 0;\n\t\tlet freespinLeft = 0;\n\t\tlet bonusGameDatas = null;\n\t\tlet comboData: ComboData[] = [];\n\n\t\tvar countCombo = 0;\n\t\tthis.currentSession.datas.forEach(element => {\n\t\t\tswitch (element.data) {\n\t\t\t\tcase \"playedSpin\":\n\t\t\t\t\tif (countCombo == 0) {\n\t\t\t\t\t\tcellsResult = this.createCellsResult(element.content);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tcomboData[countCombo - 1].SetCells(this.createCellsResult(element.content));\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"winLine\":\n\t\t\t\t\tvar content = element.content;\n\t\t\t\t\tvar arrNumber = [];\n\t\t\t\t\tarrNumber.push(content.hitSetID);\n\t\t\t\t\tvar winLineData = new G1009WinLineResult(content.hitSet, content.pay, arrNumber, content.what);\n\t\t\t\t\tif (countCombo == 0) {\n\t\t\t\t\t\tWinLines.push(winLineData);\n\t\t\t\t\t\twinPoint += winLineData.GetWinPoint();\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tcomboData[countCombo - 1].GetWinLines().push(winLineData);\n\t\t\t\t\t\tcomboData[countCombo - 1].AddWinPoint(winLineData.GetWinPoint());\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"explodedCells\":\n\t\t\t\t\tcountCombo++;\n\t\t\t\t\tcomboData.push(new ComboData(element.content))\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"spinTrigger\":\n\t\t\t\t\tif (element.content.bonus == \"freespins\") {\n\t\t\t\t\t\tfeatureDatas.push({\n\t\t\t\t\t\t\thitRule: \"freespins\",\n\t\t\t\t\t\t\ttotalFreespins: element.content.spins,\n\t\t\t\t\t\t\tisRetrigger: this.isFreespins,\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.isFreespins = true;\n\t\t\t\t\t\tfreespinLeft = element.content.spins || 0;\n\t\t\t\t\t\t// var scatters = [];\n\t\t\t\t\t\t// let cells = countCombo > 0 ? comboData[countCombo - 1].GetCells() : cellsResult;\n\t\t\t\t\t\t// for (let index = 0; index < cells.length; index++) {\n\t\t\t\t\t\t// \tlet cell = cells[index];\n\t\t\t\t\t\t// \tif (cell == \"Scatter\") {\n\t\t\t\t\t\t// \t\tscatters.push(index);\n\t\t\t\t\t\t// \t}\n\t\t\t\t\t\t// }\n\t\t\t\t\t\twinScatters.push(new G1009WinLineResult(element.content.trigger.hitSet, 0, [-1], \"Scatter\", false, true));\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"spinTriggerBonus\":\n\t\t\t\t\tfeatureDatas.push({\n\t\t\t\t\t\thitRule: \"bonus\",\n\t\t\t\t\t\ttotalFreespins: 0,\n\t\t\t\t\t\tisRetrigger: false,\n\t\t\t\t\t});\n\t\t\t\t\t// let bonus = [];\n\t\t\t\t\t// let cells = countCombo > 0 ? comboData[countCombo - 1].GetCells() : cellsResult;\n\t\t\t\t\t// for (let index = 0; index < cells.length; index++) {\n\t\t\t\t\t// \tlet cell = cells[index];\n\n\t\t\t\t\t// \tif (cell == \"Bonus\") {\n\t\t\t\t\t// \t\tbonus.push(index);\n\t\t\t\t\t// \t}\n\t\t\t\t\t// }\n\t\t\t\t\twinBonus.push(new G1009WinLineResult(element.content.trigger.hitSet, element.content.pay, [-1], \"Bonus\", false, true));\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"jackpotWin\":\n\t\t\t\t\tvar content = element.content;\n\t\t\t\t\tvar arrNumber = [];\n\t\t\t\t\tarrNumber.push(content.hitSetID);\n\t\t\t\t\tvar winLineData = new G1009WinLineResult(content.hitSet, content.pay, arrNumber, content.what);\n\t\t\t\t\tif (countCombo == 0) {\n\t\t\t\t\t\tWinLines.push(winLineData);\n\t\t\t\t\t\twinPoint += winLineData.GetWinPoint();\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tcomboData[countCombo - 1].GetWinLines().push(winLineData);\n\t\t\t\t\t\tcomboData[countCombo - 1].AddWinPoint(winLineData.GetWinPoint());\n\t\t\t\t\t}\n\n\t\t\t\t\tjackpotWinPoint = content.pay;\n\t\t\t\t\tjackpotWinLine = winLineData;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"gameEnd\":\n\t\t\t\t\tisEndround = true;\n\t\t\t\t\ttotalWinPoint = element.content.win || 0;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t});\n\t\treturn {\n\t\t\tCells: cellsResult,\n\t\t\tWinLines: WinLines,\n\t\t\tallWinLine: null,\n\t\t\tScatterSpin: [],\n\t\t\tWinScatters: winScatters,\n\t\t\tWinBonus: winBonus,\n\t\t\tfeatureDatas: featureDatas,\n\t\t\tfreespinLeft: freespinLeft,\n\t\t\ttotalFreespins: this.totalFreespins,\n\t\t\tisFreespins: this.isFreespins,\n\t\t\tisEndround: isEndround,\n\t\t\twinPoint: winPoint,\n\t\t\ttotalWinPoint: totalWinPoint,\n\t\t\tfreespintotalWinPoint: freespintotalWinPoint,\n\t\t\tjackpotWinPoint: jackpotWinPoint,\n\t\t\tjackpotWinLine: jackpotWinLine,\n\t\t\tbonusGameDatas: bonusGameDatas,\n\t\t\tcomboData: comboData\n\t\t}\n\t}\n\n\tprivate processNormalData1(): any {\n\t\tthis.fakeBalanceSpin();\n\t\tif (this.currentSession.hasOwnProperty(\"freeGameMatrix\")) {\n\t\t\tthis.currentSession.normalGameMatrix = this.currentSession.freeGameMatrix;\n\t\t}\n\t\tif (this.currentSession.hasOwnProperty(\"freeGamePaylines\")) {\n\t\t\tthis.currentSession.normalPayLines = this.currentSession.freeGamePaylines;\n\t\t}\n\t\tif (this.currentSession.data.hasOwnProperty(\"freeMatrixOrigin\")) {\n\t\t\tthis.currentSession.data.normalMatrixOrigin = this.currentSession.data.freeMatrixOrigin;\n\t\t}\n\n\t\tlet isEndround = false;\n\t\tlet isRetrigger = false;\n\t\tlet isExpandWild = false;\n\t\tlet winPoint = 0;\n\t\tlet featureData = {};\n\t\tlet featureDatas = [];\n\t\tlet winBonus = [];\n\t\tlet expandWildIndices = [];\n\t\tlet cellsResult = [];\n\t\tlet WinLines: G1009WinLineResult[] = [];\n\t\tlet winScatters = [];\n\t\tlet freespintotalWinPoint = 0;\n\t\tlet jackpotWinPoint = 0;\n\t\tlet jackpotWinLine = [];\n\t\tlet totalWinPoint = 0;\n\t\tlet freespinLeft = 0;\n\t\tlet bonusGameDatas = null;\n\t\tfeatureData = {\n\t\t\thitRule: \"freespins\",\n\t\t\ttotalFreespins: this.currentSession.freeGameTotal,\n\t\t\tisRetrigger: false,\n\t\t};\n\t\t//parse items\n\t\t// let items = []\n\t\t// this.currentSession.normalGameMatrix.forEach(item => items.push(SLOTTY_ITEM[item]));\n\t\t// console.warn('itemsitems: ', items);\n\t\t// let count = 0;\n\t\t// for (let reelIndex = 0; reelIndex < reelCount; reelIndex++) {\n\t\t// \tfor (let rowIndex = 0; rowIndex < rowCount; rowIndex++) {\n\t\t// \t\tlet cellIndex = SlottyParameter.GetCellIndex(reelIndex, rowIndex);\n\t\t// \t\tcellsResult[cellIndex] = items[count++];\n\t\t// \t}\n\t\t// }\n\t\tcellsResult = this.createCellsResult(this.currentSession.normalGameMatrix);\n\t\t// get winScatter\n\n\t\t//parse winline\n\t\tif (this.currentSession.hasOwnProperty(\"normalPayLines\")) {\n\t\t\tthis.currentSession.normalPayLines.forEach(normalPayLine => {\n\t\t\t\tWinLines.push(\n\t\t\t\t\tnew G1009WinLineResult(WIN_LINE_MAPPING[normalPayLine.pwl - 1].slice(0, normalPayLine.pwrc), normalPayLine.pwa, [normalPayLine.pwl - 1], SLOTTY_ITEM[normalPayLine.psc], false, NEAR_WIN_SYMBOL.includes((SLOTTY_ITEM[normalPayLine.psc]))));\n\t\t\t});\n\t\t}\n\t\tWinLines.forEach(winLine => winPoint += winLine.GetWinPoint());\n\n\t\tisRetrigger = this.isFreespins;\n\t\t//parse freespins\n\t\tif (this.currentSession.hasOwnProperty(\"freeGameTotal\") && this.currentSession.hasOwnProperty(\"freeGameRemain\") && this.currentSession.freeGameTotal == this.currentSession.freeGameRemain) {\n\t\t\tthis.isFreespins = true;\n\t\t\tfeatureDatas.push({\n\t\t\t\thitRule: \"freespins\",\n\t\t\t\ttotalFreespins: this.currentSession.freeGameTotal,\n\t\t\t\tisRetrigger: false,\n\n\t\t\t});\n\n\t\t\tif (this.currentSession.state == 1) {\n\t\t\t\tlet scatters = [];\n\t\t\t\tfor (let index = 0; index < cellsResult.length; index++) {\n\t\t\t\t\tlet cell = cellsResult[index];\n\n\t\t\t\t\tif (cell == \"Scatter\") {\n\t\t\t\t\t\tscatters.push(index);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\twinScatters.push(new G1009WinLineResult(scatters, 0, [-1], \"Scatter\", false, true));\n\n\t\t\t}\n\t\t}\n\t\tfreespinLeft = this.currentSession.freeGameRemain || 0;\n\t\t//parse bonus\n\t\tif (this.currentSession.hasOwnProperty(\"bonusGameRemain\") && this.currentSession.bonusGameRemain > 0) {\n\t\t\tfeatureDatas.push({\n\t\t\t\thitRule: \"bonus\",\n\t\t\t\ttotalFreespins: 0,\n\t\t\t\tisRetrigger: false,\n\t\t\t});\n\t\t\tif (this.currentSession.bonusGameTotal == this.currentSession.bonusGameRemain) {\n\t\t\t\tlet bonus = [];\n\t\t\t\tfor (let index = 0; index < cellsResult.length; index++) {\n\t\t\t\t\tlet cell = cellsResult[index];\n\n\t\t\t\t\tif (cell == \"Bonus\") {\n\t\t\t\t\t\tbonus.push(index);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\twinBonus.push(new G1009WinLineResult(bonus, 0, [-1], \"Bonus\", false, true));\n\t\t\t}\n\t\t}\n\n\t\tif (this.currentSession.hasOwnProperty(\"bonusMatrix\")) {\n\t\t\tlet bonusTotalMultiple = 0;\n\t\t\tlet bonusCurrentMultiple = 0;\n\t\t\tlet currentIndex = this.currentSession.bonusMatrix.length;\n\t\t\tfor (let index = 0; index < this.currentSession.bonusMatrix.length; index++) {\n\t\t\t\tlet resuilt = this.currentSession.bonusMatrix[index];\n\t\t\t\tlet pickupDatas = resuilt.split(\";\");\n\t\t\t\tbonusTotalMultiple += Number(pickupDatas[0]);\n\t\t\t\tif (currentIndex > index) {\n\t\t\t\t\tbonusCurrentMultiple += Number(pickupDatas[0]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tbonusGameDatas = {\n\t\t\t\tbonusTotalWinPoint: this.currentSession.bonusGameWinAmount || 0,\n\t\t\t\tbonusMultiple: Number(this.currentSession.data.lastOpenSymbolBonus) || 0,\n\t\t\t\tbonusTotalMultiple: bonusTotalMultiple,\n\t\t\t\tbonusCurrentStateIndex: currentIndex,\n\t\t\t\tbonusCurrentMultiple: bonusCurrentMultiple\n\t\t\t};\n\t\t}\n\t\t//expanding wild\n\n\t\t//parse jackpot\n\t\tif (this.currentSession.hasOwnProperty(\"jackpotPayLine\") && this.currentSession.jackpotPayLine.length > 0) {\n\t\t\tlet jackpotTotalWin = 0;\n\n\t\t\t// this.currentSession.jackpotPayLine.forEach(result => {\n\t\t\tlet jackpotLine = this.currentSession.jackpotPayLine[0].split(\";\");\n\t\t\tjackpotTotalWin += Number(jackpotLine[1]);\n\t\t\tlet winLineNumber = jackpotLine[2] - 1;\n\t\t\tlet coreWinLine = [];\n\t\t\tlet hitSet = WIN_LINE_MAPPING[winLineNumber];\n\t\t\thitSet.forEach(index => {\n\t\t\t\tlet cell = cellsResult[index];\n\t\t\t\tif (cell == \"Core\") {\n\t\t\t\t\tcoreWinLine.push(index);\n\t\t\t\t}\n\t\t\t})\n\t\t\tjackpotWinLine.push(new G1009WinLineResult(coreWinLine, 0, [winLineNumber], \"Core\", false, true));\n\t\t\t// });\n\n\t\t\tjackpotWinPoint = jackpotTotalWin;\n\t\t}\n\t\tif (this.currentSession.hasOwnProperty(\"data\")) {\n\t\t\tif (this.currentSession.data.hasOwnProperty(\"normalMatrixOrigin\") || this.currentSession.data.hasOwnProperty(\"freeMatrixOrigin\")) {\n\t\t\t\t//convert  matrix origin to cellresult\n\t\t\t\tlet items = [];\n\t\t\t\tlet newCellsResult = [];\n\t\t\t\tthis.currentSession.data.normalMatrixOrigin.forEach(item => items.push(SLOTTY_ITEM[item]));\n\t\t\t\tlet count = 0;\n\t\t\t\tfor (let reelIndex = 0; reelIndex < reelCount; reelIndex++) {\n\t\t\t\t\tfor (let rowIndex = 0; rowIndex < rowCount; rowIndex++) {\n\t\t\t\t\t\tlet cellIndex = SlottyParameter.GetCellIndex(reelIndex, rowIndex);\n\t\t\t\t\t\tnewCellsResult[cellIndex] = items[count++];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor (let reelIndex = 0; reelIndex < reelCount; reelIndex++) {\n\t\t\t\t\tlet count = 0;\n\t\t\t\t\tfor (let rowIndex = 0; rowIndex < rowCount; rowIndex++) {\n\t\t\t\t\t\tlet cellIndex = SlottyParameter.GetCellIndex(reelIndex, rowIndex);\n\t\t\t\t\t\tif (cellsResult[cellIndex] == \"Core\") {\n\t\t\t\t\t\t\tcount++;\n\t\t\t\t\t\t\tif (count == 3) {\n\t\t\t\t\t\t\t\tisExpandWild = true;\n\t\t\t\t\t\t\t\tlet indices = [];\n\t\t\t\t\t\t\t\tfor (let newRowIndex = 0; newRowIndex < rowCount; newRowIndex++) {\n\t\t\t\t\t\t\t\t\tlet newCellIndex = SlottyParameter.GetCellIndex(reelIndex, newRowIndex);\n\t\t\t\t\t\t\t\t\tif (newCellsResult[newCellIndex] == \"Core\") {\n\t\t\t\t\t\t\t\t\t\tnewCellsResult[newCellIndex] = \"Reactor\";\n\t\t\t\t\t\t\t\t\t\tindices.push(newCellIndex);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (indices.length > 2) {\n\t\t\t\t\t\t\t\t\texpandWildIndices.push(indices[1]);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\texpandWildIndices.push(indices[0]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcellsResult = Object.assign([], newCellsResult);\n\t\t\t}\n\t\t}\n\n\t\tif (this.currentSession.hasOwnProperty(\"isFinish\") && freespinLeft == 0) {\n\t\t\tisEndround = true;\n\t\t}\n\n\t\tfreespintotalWinPoint = this.currentSession.freeWinAmount || 0;\n\t\ttotalWinPoint = this.currentSession.totalWinAmount || 0;\n\n\t\t//parse combo win\n\t\tlet comboData = [];\n\t\tif (this.currentSession.hasOwnProperty(\"comboData\")) {\n\t\t\tcomboData = this.getComboData(this.currentSession.comboData);\n\t\t}\n\n\t\treturn {\n\t\t\tCells: cellsResult,\n\t\t\tWinLines: WinLines,\n\t\t\tallWinLine: null,\n\t\t\tWinScatters: winScatters,\n\t\t\tWinBonus: winBonus,\n\t\t\tfeatureDatas: featureDatas,\n\t\t\tfreespinLeft: freespinLeft,\n\t\t\ttotalFreespins: this.totalFreespins,\n\t\t\tisFreespins: this.isFreespins,\n\t\t\tisEndround: isEndround,\n\t\t\tisExpandWild: isExpandWild,\n\t\t\texpandWildIndices: expandWildIndices,\n\t\t\twinPoint: winPoint,\n\t\t\ttotalWinPoint: totalWinPoint,\n\t\t\tfreespintotalWinPoint: freespintotalWinPoint,\n\t\t\tjackpotWinPoint: jackpotWinPoint,\n\t\t\tjackpotWinLine: jackpotWinLine,\n\t\t\tbonusGameDatas: bonusGameDatas,\n\t\t\tcomboData: comboData\n\t\t}\n\t}\n\n\tprivate getComboData(rawcomboData) {\n\t\tvar comboData = [];\n\t\trawcomboData.forEach(rawData => {\n\t\t\tlet data = {\n\t\t\t\texplodedCells: [],\n\t\t\t\tCells: [],\n\t\t\t\tWinLines: [],\n\t\t\t\tallWinLine: null,\n\t\t\t\twinPoint: 0\n\t\t\t};\n\t\t\tdata.explodedCells = rawData.explodedCells;\n\t\t\tdata.Cells = this.createCellsResult(rawData.normalGameMatrix);\n\t\t\tif (this.currentSession.hasOwnProperty(\"normalPayLines\")) {\n\t\t\t\tthis.currentSession.normalPayLines.forEach(normalPayLine => {\n\t\t\t\t\tdata.WinLines.push(\n\t\t\t\t\t\tnew G1009WinLineResult(WIN_LINE_MAPPING[normalPayLine.pwl - 1].slice(0, normalPayLine.pwrc), normalPayLine.pwa, [normalPayLine.pwl - 1], SLOTTY_ITEM[normalPayLine.psc], false, NEAR_WIN_SYMBOL.includes((SLOTTY_ITEM[normalPayLine.psc]))));\n\t\t\t\t});\n\t\t\t}\n\t\t\tdata.WinLines.forEach(winLine => data.winPoint += winLine.GetWinPoint());\n\t\t\tcomboData.push(data);\n\t\t});\n\t\treturn comboData;\n\t}\n\n\tprivate createCellsResult(arrItem) {\n\t\tvar cellsResult = [];\n\t\tfor (let rowIndex = 0; rowIndex < rowCount; rowIndex++) {\n\t\t\tfor (let reelIndex = 0; reelIndex < reelCount; reelIndex++) {\n\t\t\t\tvar item = arrItem[reelIndex][rowIndex];\n\t\t\t\tlet cellIndex = SlottyParameter.GetCellIndex(reelIndex, rowIndex);\n\t\t\t\tcellsResult.push(SLOTTY_ITEM[item]);\n\t\t\t}\n\t\t}\n\t\treturn cellsResult;\n\t}\n\n\tprivate nextScrollData(): void {\n\t\tlet result = this.processNormalData();\n\t\tsetTimeout(() => {\n\t\t\tG1009EventManager.GetInstance().notify(\"NextScrollData\", result);\n\t\t\tif (result.freespinLeft == 0) {\n\t\t\t\tthis.isFreespins = false;\n\t\t\t}\n\t\t}, 100);\n\t}\n\n\tprivate fakeBalanceSpin() {\n\t\tif (!this.isFreespins) {\n\t\t\tlet newBalance = G1009BalanceModel.GetInstance().GetBalance() - G1009BetModel.GetInstance().GetTotalBetPoint();\n\t\t\tG1009BalanceModel.GetInstance().SetBalance(newBalance);\n\t\t\tG1009EventManager.GetInstance().notify(\"BalanceChange\", newBalance);\n\t\t}\n\t}\n\n\tprivate onEndRound() {\n\t\tlet newBalance = this.gameManager1009.getPlayerMoney();\n\t\tG1009BalanceModel.GetInstance().SetBalance(newBalance);\n\t\tG1009EventManager.GetInstance().notify(\"BalanceChange\", newBalance);\n\t}\n}"]}