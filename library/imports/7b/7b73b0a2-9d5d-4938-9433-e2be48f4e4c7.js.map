{"version":3,"sources":["assets\\Script\\base\\Slot45-connect-server.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { GAME_MANAGER_EVENT, GameManager1009, JackpotInfo, JackpotMessage, PlayerData1009, PopupInfoMessage, StartGameData1009 } from \"../GameManager/Slot45-GameManager\";\r\nimport { Slot45WinLineResult } from \"../UI/present-win/Slot45-present-win-panel\";\r\nimport { NEAR_WIN_SYMBOL, SlottyParameter, reelCount, rowCount } from \"../Slot45-game-config\";\r\nimport { ComboData } from \"../avenger-game/model/combo-data\";\r\nimport { Slot45BalanceModel } from \"../models/Slot45-balance-model\";\r\nimport { Slot45BetModel } from \"../models/Slot45-bet-model\";\r\nimport { Slot45EventManager } from \"./events/Slot45-event-manager\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\nexport const SLOTTY_ITEM = {\r\n\t'Bonus': 'Bonus',\r\n\t'Scatter': 'Scatter',\r\n\t'Jackpot': 'Jackpot',\r\n\t'Ace': 'Ace',\r\n\t'King': 'King',\r\n\t'Queen': 'Queen',\r\n\t'Jack': 'Jack',\r\n}\r\n\r\nexport const WIN_LINE_MAPPING = [\r\n\t[5, 6, 7, 8, 9],\r\n\t[0, 1, 2, 3, 4],\r\n\t[10, 11, 12, 13, 14],\r\n\t[5, 6, 2, 8, 9],\r\n\t[5, 6, 12, 8, 9],\r\n\t[0, 1, 7, 13, 14],\r\n\t[10, 11, 7, 3, 4],\r\n\t[0, 11, 2, 13, 4],\r\n\t[10, 1, 12, 3, 14],\r\n\t[5, 1, 12, 3, 9],\r\n\t[10, 6, 2, 8, 14],\r\n\t[1, 6, 12, 8, 4],\r\n\t[5, 11, 7, 3, 9],\r\n\t[5, 1, 7, 13, 9],\r\n\t[10, 6, 7, 8, 14],\r\n\t[0, 6, 7, 8, 4],\r\n\t[5, 11, 12, 13, 9],\r\n\t[5, 1, 2, 3, 9],\r\n\t[10, 11, 7, 3, 4],\r\n\t[0, 1, 7, 13, 14]\r\n];\r\n\r\n@ccclass\r\nexport default class ConnectServer extends cc.Component {\r\n\r\n\tprivate gameManager1009: GameManager1009;\r\n\r\n\tprivate currentSession: any;\r\n\tprivate betInfos: any;\r\n\tprivate isFreespins: boolean = false;\r\n\tprivate totalFreespins: number = 0;\r\n\tprivate dataJackpot: any;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.gameManager1009 = GameManager1009.getInstance();\r\n\t}\r\n\r\n\tprotected onLoad(): void {\r\n\t\tthis.register();\r\n\t}\r\n\r\n\tstart() {\r\n\t\t//hard set bet multipliser = 9\r\n\t\tSlot45BetModel.GetInstance().SetBetMultiplier(WIN_LINE_MAPPING.length);\r\n\t\tthis.gameManager1009.startGame();\r\n\r\n\t\t// this.gameManager1009.getJPHistory(0, 8).then((data) => {\r\n\t\t// \tconsole.log('getJPHistory', data);\r\n\t\t// })\r\n\r\n\t\t// this.gameManager1009.getBetHistory(0, 8).then((data) => {\r\n\t\t// \tconsole.log('getBetHistory', data);\r\n\t\t// })\r\n\r\n\t\tif (this.dataJackpot) {\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tSlot45EventManager.GetInstance().notify('JackpotUpdate', this.dataJackpot);\r\n\t\t\t}, 100);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate register(): void {\r\n\r\n\t\tthis.gameManager1009.registerEvent(GAME_MANAGER_EVENT.START_GAME_SUCCESS, (data: StartGameData1009) => {\r\n\t\t\tconsole.log('START_GAME_SUCCESS', data);\r\n\r\n\t\t\tthis.currentSession = data.playerState;\r\n\t\t\tthis.betInfos = data.betInfos;\r\n\t\t\tlet betPerLines = data.betInfos.map(betInfo => betInfo.betDenom);\r\n\t\t\tSlot45BetModel.GetInstance().SetBetPerLines(betPerLines);\r\n\r\n\t\t\tSlot45BalanceModel.GetInstance().SetBalance(this.gameManager1009.getPlayerMoney());\r\n\r\n\t\t\tSlot45EventManager.GetInstance().notify(\"BetInfos\", this.betInfos);\r\n\t\t\tif (data.hasOwnProperty(\"playerState\") && data.playerState) {\r\n\t\t\t\t// Slot45BetModel.GetInstance().SetCurrentBetPerLine(data.playerState.datas[0].content.bet);\r\n\t\t\t\tSlot45BetModel.GetInstance().SetCurrentBetPerLine(100);\r\n\t\t\t}\r\n\t\t\tif (data.hasOwnProperty(\"allJackpotInfos\")) {\r\n\t\t\t\tthis.dataJackpot = data.allJackpotInfos;\r\n\t\t\t}\r\n\t\t\tif (this.currentSession && this.currentSession.hasOwnProperty(\"freeGameRemain\") && this.currentSession.freeGameRemain > 0) {\r\n\t\t\t\tthis.isFreespins = true;\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tlet resuilt = this.processNormalData();\r\n\r\n\t\t\t\t\tresuilt.featureDatas.push({\r\n\t\t\t\t\t\thitRule: \"freespins\",\r\n\t\t\t\t\t\ttotalFreespins: this.currentSession.freeGameRemain,\r\n\t\t\t\t\t\tisRetrigger: false,\r\n\r\n\t\t\t\t\t});\r\n\t\t\t\t\tSlot45EventManager.GetInstance().notify(\"resume\", resuilt);\r\n\t\t\t\t}, 100);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tif (this.currentSession && this.currentSession.hasOwnProperty(\"bonusGameRemain\") && this.currentSession.bonusGameRemain > 0) {\r\n\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tlet resuilt = this.processNormalData();\r\n\t\t\t\t\t\tresuilt.featureDatas = [];\r\n\t\t\t\t\t\tSlot45EventManager.GetInstance().notify(\"resumeBonus\", resuilt);\r\n\t\t\t\t\t}, 100);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tSlot45EventManager.GetInstance().notify(\"init\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\tthis.gameManager1009.registerEvent(GAME_MANAGER_EVENT.NORMAL_GAME_RESULT, (data: PlayerData1009) => {\r\n\t\t\tconsole.log('NORMAL_GAME_RESULT', data);\r\n\t\t\tthis.currentSession = data;\r\n\t\t\tthis.nextScrollData();\r\n\t\t})\r\n\r\n\t\tthis.gameManager1009.registerEvent(GAME_MANAGER_EVENT.FREE_GAME_RESULT, (data: PlayerData1009) => {\r\n\t\t\tconsole.log('FREE_GAME_RESULT', data);\r\n\t\t\tthis.currentSession = data;\r\n\t\t\tthis.nextScrollData();\r\n\t\t})\r\n\r\n\t\tthis.gameManager1009.registerEvent(GAME_MANAGER_EVENT.BONUS_GAME_RESULT, (data: PlayerData1009) => {\r\n\t\t\tconsole.log('BONUS_GAME_RESULT', data);\r\n\t\t\tthis.currentSession = data;\r\n\t\t\tthis.nextScrollData();\r\n\t\t})\r\n\r\n\t\tthis.gameManager1009.registerEvent(GAME_MANAGER_EVENT.PLAYER_MONEY_UPDATE, (data: number) => {\r\n\t\t\tconsole.log('PLAYER_MONEY_UPDATE', data);\r\n\t\t\t// Slot45BalanceModel.GetInstance().SetBalance(data);\r\n\t\t\t// Slot45EventManager.GetInstance().notify(\"BalanceChange\", data);\r\n\t\t})\r\n\r\n\t\tthis.gameManager1009.registerEvent(GAME_MANAGER_EVENT.JACKPOT_UPDATE, (data: { [key: string]: JackpotInfo }) => {\r\n\t\t\tconsole.log('JACKPOT_UPDATE', data);\r\n\t\t\tSlot45EventManager.GetInstance().notify('JackpotUpdate', data);\r\n\t\t})\r\n\r\n\t\tthis.gameManager1009.registerEvent(GAME_MANAGER_EVENT.JACKPOT_SHOW_MULTIPLE, (data: { [key: string]: JackpotMessage }) => {\r\n\t\t\tconsole.log('JACKPOT_SHOW_MULTIPLE', data);\r\n\t\t\tSlot45EventManager.GetInstance().notify('JackpotShowMultiple', data);\r\n\t\t})\r\n\r\n\t\tthis.gameManager1009.registerEvent(GAME_MANAGER_EVENT.JACKPOT_HIDE_MULTIPLE, (data: { [key: string]: JackpotMessage }) => {\r\n\t\t\tconsole.log('JACKPOT_SHOW_MULTIPLE', data);\r\n\t\t\tSlot45EventManager.GetInstance().notify('JackpotHideMultiple');\r\n\t\t})\r\n\r\n\t\tthis.gameManager1009.registerEvent(GAME_MANAGER_EVENT.POPUP_INFO_MESSAGE, (data: PopupInfoMessage) => {\r\n\t\t\tconsole.log('POPUP_INFO_MESSAGE', data);\r\n\t\t\tSlot45EventManager.GetInstance().notify('PopupInfoMessage', data);\r\n\t\t})\r\n\r\n\t\tSlot45EventManager.GetInstance().register(\"SpinRequest\", this.onSpinRequest.bind(this));\r\n\t\tSlot45EventManager.GetInstance().register(\"PickUpRequest\", this.onPickUpRequest.bind(this));\r\n\t\tSlot45EventManager.GetInstance().register(\"EndRound\", this.onEndRound.bind(this));\r\n\t\tSlot45EventManager.GetInstance().register(\"ShowBetPanel\", this.onEndRound.bind(this));\r\n\t\tSlot45EventManager.GetInstance().register(\"UpdateBetLine\", this.onUpdateBetLine.bind(this));\r\n\t}\r\n\r\n\tprivate onUpdateBetLine(betLines: number[]) {\r\n\t\tSlot45BetModel.GetInstance().SetBetMultiplier(betLines.length);\r\n\t\tSlot45EventManager.GetInstance().notify(\"ShowBetPanel\");\r\n\t}\r\n\r\n\tprivate onPickUpRequest(item: number): void {\r\n\t\tthis.gameManager1009.bonusPlay(item);\r\n\t}\r\n\r\n\tprivate onSpinRequest(requestData): void {\r\n\t\tif (requestData.isFreespin) {\r\n\t\t\tthis.gameManager1009.freeSpin();\r\n\t\t}\r\n\t\telse {\r\n\t\t\tlet betDenom = Slot45BetModel.GetInstance().GetCurrentBetPerLine();\r\n\t\t\tlet betInfo = this.betInfos.filter((betInfo) => betInfo.betDenom == betDenom)[0];\r\n\t\t\tthis.gameManager1009.normalSpin(betInfo.betId);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate processNormalData(): any {\r\n\t\tthis.fakeBalanceSpin();\r\n\t\tlet isEndround = false;\r\n\t\tlet isRetrigger = false;\r\n\t\tlet isExpandWild = false;\r\n\t\tlet winPoint = 0;\r\n\t\tlet featureData = {};\r\n\t\tfeatureData = {\r\n\t\t\thitRule: \"freespins\",\r\n\t\t\ttotalFreespins: this.currentSession.freeGameTotal,\r\n\t\t\tisRetrigger: false,\r\n\t\t};\r\n\t\tlet featureDatas = [];\r\n\t\tlet winBonus = [];\r\n\t\tvar cellsResult = [];\r\n\t\tlet WinLines: Slot45WinLineResult[] = [];\r\n\t\tlet winScatters = [];\r\n\t\tlet freespintotalWinPoint = 0;\r\n\t\tlet jackpotWinPoint = 0;\r\n\t\tlet jackpotWinLine : Slot45WinLineResult = null;\r\n\t\tlet totalWinPoint = 0;\r\n\t\tlet freespinLeft = 0;\r\n\t\tlet bonusGameDatas = null;\r\n\t\tlet comboData: ComboData[] = [];\r\n\r\n\t\tvar countCombo = 0;\r\n\t\tthis.currentSession.datas.forEach(element => {\r\n\t\t\tswitch (element.data) {\r\n\t\t\t\tcase \"playedSpin\":\r\n\t\t\t\t\tif (countCombo == 0) {\r\n\t\t\t\t\t\tcellsResult = this.createCellsResult(element.content);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tcomboData[countCombo - 1].SetCells(this.createCellsResult(element.content));\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"winLine\":\r\n\t\t\t\t\tvar content = element.content;\r\n\t\t\t\t\tvar arrNumber = [];\r\n\t\t\t\t\tarrNumber.push(content.hitSetID);\r\n\t\t\t\t\tvar winLineData = new Slot45WinLineResult(content.hitSet, content.pay, arrNumber, content.what);\r\n\t\t\t\t\tif (countCombo == 0) {\r\n\t\t\t\t\t\tWinLines.push(winLineData);\r\n\t\t\t\t\t\twinPoint += winLineData.GetWinPoint();\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tcomboData[countCombo - 1].GetWinLines().push(winLineData);\r\n\t\t\t\t\t\tcomboData[countCombo - 1].AddWinPoint(winLineData.GetWinPoint());\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"explodedCells\":\r\n\t\t\t\t\tcountCombo++;\r\n\t\t\t\t\tcomboData.push(new ComboData(element.content))\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"spinTrigger\":\r\n\t\t\t\t\tif (element.content.bonus == \"freespins\") {\r\n\t\t\t\t\t\tfeatureDatas.push({\r\n\t\t\t\t\t\t\thitRule: \"freespins\",\r\n\t\t\t\t\t\t\ttotalFreespins: element.content.spins,\r\n\t\t\t\t\t\t\tisRetrigger: this.isFreespins,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.isFreespins = true;\r\n\t\t\t\t\t\tfreespinLeft = element.content.spins || 0;\r\n\t\t\t\t\t\t// var scatters = [];\r\n\t\t\t\t\t\t// let cells = countCombo > 0 ? comboData[countCombo - 1].GetCells() : cellsResult;\r\n\t\t\t\t\t\t// for (let index = 0; index < cells.length; index++) {\r\n\t\t\t\t\t\t// \tlet cell = cells[index];\r\n\t\t\t\t\t\t// \tif (cell == \"Scatter\") {\r\n\t\t\t\t\t\t// \t\tscatters.push(index);\r\n\t\t\t\t\t\t// \t}\r\n\t\t\t\t\t\t// }\r\n\t\t\t\t\t\twinScatters.push(new Slot45WinLineResult(element.content.trigger.hitSet, 0, [-1], \"Scatter\", false, true));\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"spinTriggerBonus\":\r\n\t\t\t\t\tfeatureDatas.push({\r\n\t\t\t\t\t\thitRule: \"bonus\",\r\n\t\t\t\t\t\ttotalFreespins: 0,\r\n\t\t\t\t\t\tisRetrigger: false,\r\n\t\t\t\t\t});\r\n\t\t\t\t\t// let bonus = [];\r\n\t\t\t\t\t// let cells = countCombo > 0 ? comboData[countCombo - 1].GetCells() : cellsResult;\r\n\t\t\t\t\t// for (let index = 0; index < cells.length; index++) {\r\n\t\t\t\t\t// \tlet cell = cells[index];\r\n\r\n\t\t\t\t\t// \tif (cell == \"Bonus\") {\r\n\t\t\t\t\t// \t\tbonus.push(index);\r\n\t\t\t\t\t// \t}\r\n\t\t\t\t\t// }\r\n\t\t\t\t\twinBonus.push(new Slot45WinLineResult(element.content.trigger.hitSet, element.content.pay, [-1], \"Bonus\", false, true));\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"jackpotWin\":\r\n\t\t\t\t\tvar content = element.content;\r\n\t\t\t\t\tvar arrNumber = [];\r\n\t\t\t\t\tarrNumber.push(content.hitSetID);\r\n\t\t\t\t\tvar winLineData = new Slot45WinLineResult(content.hitSet, content.pay, arrNumber, content.what);\r\n\t\t\t\t\tif (countCombo == 0) {\r\n\t\t\t\t\t\tWinLines.push(winLineData);\r\n\t\t\t\t\t\twinPoint += winLineData.GetWinPoint();\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tcomboData[countCombo - 1].GetWinLines().push(winLineData);\r\n\t\t\t\t\t\tcomboData[countCombo - 1].AddWinPoint(winLineData.GetWinPoint());\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tjackpotWinPoint = content.pay;\r\n\t\t\t\t\tjackpotWinLine = winLineData;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"gameEnd\":\r\n\t\t\t\t\tisEndround = true;\r\n\t\t\t\t\ttotalWinPoint = element.content.win || 0;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn {\r\n\t\t\tCells: cellsResult,\r\n\t\t\tWinLines: WinLines,\r\n\t\t\tallWinLine: null,\r\n\t\t\tScatterSpin: [],\r\n\t\t\tWinScatters: winScatters,\r\n\t\t\tWinBonus: winBonus,\r\n\t\t\tfeatureDatas: featureDatas,\r\n\t\t\tfreespinLeft: freespinLeft,\r\n\t\t\ttotalFreespins: this.totalFreespins,\r\n\t\t\tisFreespins: this.isFreespins,\r\n\t\t\tisEndround: isEndround,\r\n\t\t\twinPoint: winPoint,\r\n\t\t\ttotalWinPoint: totalWinPoint,\r\n\t\t\tfreespintotalWinPoint: freespintotalWinPoint,\r\n\t\t\tjackpotWinPoint: jackpotWinPoint,\r\n\t\t\tjackpotWinLine: jackpotWinLine,\r\n\t\t\tbonusGameDatas: bonusGameDatas,\r\n\t\t\tcomboData: comboData\r\n\t\t}\r\n\t}\r\n\r\n\tprivate processNormalData1(): any {\r\n\t\tthis.fakeBalanceSpin();\r\n\t\tif (this.currentSession.hasOwnProperty(\"freeGameMatrix\")) {\r\n\t\t\tthis.currentSession.normalGameMatrix = this.currentSession.freeGameMatrix;\r\n\t\t}\r\n\t\tif (this.currentSession.hasOwnProperty(\"freeGamePaylines\")) {\r\n\t\t\tthis.currentSession.normalPayLines = this.currentSession.freeGamePaylines;\r\n\t\t}\r\n\t\tif (this.currentSession.data.hasOwnProperty(\"freeMatrixOrigin\")) {\r\n\t\t\tthis.currentSession.data.normalMatrixOrigin = this.currentSession.data.freeMatrixOrigin;\r\n\t\t}\r\n\r\n\t\tlet isEndround = false;\r\n\t\tlet isRetrigger = false;\r\n\t\tlet isExpandWild = false;\r\n\t\tlet winPoint = 0;\r\n\t\tlet featureData = {};\r\n\t\tlet featureDatas = [];\r\n\t\tlet winBonus = [];\r\n\t\tlet expandWildIndices = [];\r\n\t\tlet cellsResult = [];\r\n\t\tlet WinLines: Slot45WinLineResult[] = [];\r\n\t\tlet winScatters = [];\r\n\t\tlet freespintotalWinPoint = 0;\r\n\t\tlet jackpotWinPoint = 0;\r\n\t\tlet jackpotWinLine = [];\r\n\t\tlet totalWinPoint = 0;\r\n\t\tlet freespinLeft = 0;\r\n\t\tlet bonusGameDatas = null;\r\n\t\tfeatureData = {\r\n\t\t\thitRule: \"freespins\",\r\n\t\t\ttotalFreespins: this.currentSession.freeGameTotal,\r\n\t\t\tisRetrigger: false,\r\n\t\t};\r\n\t\t//parse items\r\n\t\t// let items = []\r\n\t\t// this.currentSession.normalGameMatrix.forEach(item => items.push(SLOTTY_ITEM[item]));\r\n\t\t// console.warn('itemsitems: ', items);\r\n\t\t// let count = 0;\r\n\t\t// for (let reelIndex = 0; reelIndex < reelCount; reelIndex++) {\r\n\t\t// \tfor (let rowIndex = 0; rowIndex < rowCount; rowIndex++) {\r\n\t\t// \t\tlet cellIndex = SlottyParameter.GetCellIndex(reelIndex, rowIndex);\r\n\t\t// \t\tcellsResult[cellIndex] = items[count++];\r\n\t\t// \t}\r\n\t\t// }\r\n\t\tcellsResult = this.createCellsResult(this.currentSession.normalGameMatrix);\r\n\t\t// get winScatter\r\n\r\n\t\t//parse winline\r\n\t\tif (this.currentSession.hasOwnProperty(\"normalPayLines\")) {\r\n\t\t\tthis.currentSession.normalPayLines.forEach(normalPayLine => {\r\n\t\t\t\tWinLines.push(\r\n\t\t\t\t\tnew Slot45WinLineResult(WIN_LINE_MAPPING[normalPayLine.pwl - 1].slice(0, normalPayLine.pwrc), normalPayLine.pwa, [normalPayLine.pwl - 1], SLOTTY_ITEM[normalPayLine.psc], false, NEAR_WIN_SYMBOL.includes((SLOTTY_ITEM[normalPayLine.psc]))));\r\n\t\t\t});\r\n\t\t}\r\n\t\tWinLines.forEach(winLine => winPoint += winLine.GetWinPoint());\r\n\r\n\t\tisRetrigger = this.isFreespins;\r\n\t\t//parse freespins\r\n\t\tif (this.currentSession.hasOwnProperty(\"freeGameTotal\") && this.currentSession.hasOwnProperty(\"freeGameRemain\") && this.currentSession.freeGameTotal == this.currentSession.freeGameRemain) {\r\n\t\t\tthis.isFreespins = true;\r\n\t\t\tfeatureDatas.push({\r\n\t\t\t\thitRule: \"freespins\",\r\n\t\t\t\ttotalFreespins: this.currentSession.freeGameTotal,\r\n\t\t\t\tisRetrigger: false,\r\n\r\n\t\t\t});\r\n\r\n\t\t\tif (this.currentSession.state == 1) {\r\n\t\t\t\tlet scatters = [];\r\n\t\t\t\tfor (let index = 0; index < cellsResult.length; index++) {\r\n\t\t\t\t\tlet cell = cellsResult[index];\r\n\r\n\t\t\t\t\tif (cell == \"Scatter\") {\r\n\t\t\t\t\t\tscatters.push(index);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\twinScatters.push(new Slot45WinLineResult(scatters, 0, [-1], \"Scatter\", false, true));\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t\tfreespinLeft = this.currentSession.freeGameRemain || 0;\r\n\t\t//parse bonus\r\n\t\tif (this.currentSession.hasOwnProperty(\"bonusGameRemain\") && this.currentSession.bonusGameRemain > 0) {\r\n\t\t\tfeatureDatas.push({\r\n\t\t\t\thitRule: \"bonus\",\r\n\t\t\t\ttotalFreespins: 0,\r\n\t\t\t\tisRetrigger: false,\r\n\t\t\t});\r\n\t\t\tif (this.currentSession.bonusGameTotal == this.currentSession.bonusGameRemain) {\r\n\t\t\t\tlet bonus = [];\r\n\t\t\t\tfor (let index = 0; index < cellsResult.length; index++) {\r\n\t\t\t\t\tlet cell = cellsResult[index];\r\n\r\n\t\t\t\t\tif (cell == \"Bonus\") {\r\n\t\t\t\t\t\tbonus.push(index);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\twinBonus.push(new Slot45WinLineResult(bonus, 0, [-1], \"Bonus\", false, true));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (this.currentSession.hasOwnProperty(\"bonusMatrix\")) {\r\n\t\t\tlet bonusTotalMultiple = 0;\r\n\t\t\tlet bonusCurrentMultiple = 0;\r\n\t\t\tlet currentIndex = this.currentSession.bonusMatrix.length;\r\n\t\t\tfor (let index = 0; index < this.currentSession.bonusMatrix.length; index++) {\r\n\t\t\t\tlet resuilt = this.currentSession.bonusMatrix[index];\r\n\t\t\t\tlet pickupDatas = resuilt.split(\";\");\r\n\t\t\t\tbonusTotalMultiple += Number(pickupDatas[0]);\r\n\t\t\t\tif (currentIndex > index) {\r\n\t\t\t\t\tbonusCurrentMultiple += Number(pickupDatas[0]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tbonusGameDatas = {\r\n\t\t\t\tbonusTotalWinPoint: this.currentSession.bonusGameWinAmount || 0,\r\n\t\t\t\tbonusMultiple: Number(this.currentSession.data.lastOpenSymbolBonus) || 0,\r\n\t\t\t\tbonusTotalMultiple: bonusTotalMultiple,\r\n\t\t\t\tbonusCurrentStateIndex: currentIndex,\r\n\t\t\t\tbonusCurrentMultiple: bonusCurrentMultiple\r\n\t\t\t};\r\n\t\t}\r\n\t\t//expanding wild\r\n\r\n\t\t//parse jackpot\r\n\t\tif (this.currentSession.hasOwnProperty(\"jackpotPayLine\") && this.currentSession.jackpotPayLine.length > 0) {\r\n\t\t\tlet jackpotTotalWin = 0;\r\n\r\n\t\t\t// this.currentSession.jackpotPayLine.forEach(result => {\r\n\t\t\tlet jackpotLine = this.currentSession.jackpotPayLine[0].split(\";\");\r\n\t\t\tjackpotTotalWin += Number(jackpotLine[1]);\r\n\t\t\tlet winLineNumber = jackpotLine[2] - 1;\r\n\t\t\tlet coreWinLine = [];\r\n\t\t\tlet hitSet = WIN_LINE_MAPPING[winLineNumber];\r\n\t\t\thitSet.forEach(index => {\r\n\t\t\t\tlet cell = cellsResult[index];\r\n\t\t\t\tif (cell == \"Core\") {\r\n\t\t\t\t\tcoreWinLine.push(index);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tjackpotWinLine.push(new Slot45WinLineResult(coreWinLine, 0, [winLineNumber], \"Core\", false, true));\r\n\t\t\t// });\r\n\r\n\t\t\tjackpotWinPoint = jackpotTotalWin;\r\n\t\t}\r\n\t\tif (this.currentSession.hasOwnProperty(\"data\")) {\r\n\t\t\tif (this.currentSession.data.hasOwnProperty(\"normalMatrixOrigin\") || this.currentSession.data.hasOwnProperty(\"freeMatrixOrigin\")) {\r\n\t\t\t\t//convert  matrix origin to cellresult\r\n\t\t\t\tlet items = [];\r\n\t\t\t\tlet newCellsResult = [];\r\n\t\t\t\tthis.currentSession.data.normalMatrixOrigin.forEach(item => items.push(SLOTTY_ITEM[item]));\r\n\t\t\t\tlet count = 0;\r\n\t\t\t\tfor (let reelIndex = 0; reelIndex < reelCount; reelIndex++) {\r\n\t\t\t\t\tfor (let rowIndex = 0; rowIndex < rowCount; rowIndex++) {\r\n\t\t\t\t\t\tlet cellIndex = SlottyParameter.GetCellIndex(reelIndex, rowIndex);\r\n\t\t\t\t\t\tnewCellsResult[cellIndex] = items[count++];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tfor (let reelIndex = 0; reelIndex < reelCount; reelIndex++) {\r\n\t\t\t\t\tlet count = 0;\r\n\t\t\t\t\tfor (let rowIndex = 0; rowIndex < rowCount; rowIndex++) {\r\n\t\t\t\t\t\tlet cellIndex = SlottyParameter.GetCellIndex(reelIndex, rowIndex);\r\n\t\t\t\t\t\tif (cellsResult[cellIndex] == \"Core\") {\r\n\t\t\t\t\t\t\tcount++;\r\n\t\t\t\t\t\t\tif (count == 3) {\r\n\t\t\t\t\t\t\t\tisExpandWild = true;\r\n\t\t\t\t\t\t\t\tlet indices = [];\r\n\t\t\t\t\t\t\t\tfor (let newRowIndex = 0; newRowIndex < rowCount; newRowIndex++) {\r\n\t\t\t\t\t\t\t\t\tlet newCellIndex = SlottyParameter.GetCellIndex(reelIndex, newRowIndex);\r\n\t\t\t\t\t\t\t\t\tif (newCellsResult[newCellIndex] == \"Core\") {\r\n\t\t\t\t\t\t\t\t\t\tnewCellsResult[newCellIndex] = \"Reactor\";\r\n\t\t\t\t\t\t\t\t\t\tindices.push(newCellIndex);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (indices.length > 2) {\r\n\t\t\t\t\t\t\t\t\texpandWildIndices.push(indices[1]);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\texpandWildIndices.push(indices[0]);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tcellsResult = Object.assign([], newCellsResult);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (this.currentSession.hasOwnProperty(\"isFinish\") && freespinLeft == 0) {\r\n\t\t\tisEndround = true;\r\n\t\t}\r\n\r\n\t\tfreespintotalWinPoint = this.currentSession.freeWinAmount || 0;\r\n\t\ttotalWinPoint = this.currentSession.totalWinAmount || 0;\r\n\r\n\t\t//parse combo win\r\n\t\tlet comboData = [];\r\n\t\tif (this.currentSession.hasOwnProperty(\"comboData\")) {\r\n\t\t\tcomboData = this.getComboData(this.currentSession.comboData);\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tCells: cellsResult,\r\n\t\t\tWinLines: WinLines,\r\n\t\t\tallWinLine: null,\r\n\t\t\tWinScatters: winScatters,\r\n\t\t\tWinBonus: winBonus,\r\n\t\t\tfeatureDatas: featureDatas,\r\n\t\t\tfreespinLeft: freespinLeft,\r\n\t\t\ttotalFreespins: this.totalFreespins,\r\n\t\t\tisFreespins: this.isFreespins,\r\n\t\t\tisEndround: isEndround,\r\n\t\t\tisExpandWild: isExpandWild,\r\n\t\t\texpandWildIndices: expandWildIndices,\r\n\t\t\twinPoint: winPoint,\r\n\t\t\ttotalWinPoint: totalWinPoint,\r\n\t\t\tfreespintotalWinPoint: freespintotalWinPoint,\r\n\t\t\tjackpotWinPoint: jackpotWinPoint,\r\n\t\t\tjackpotWinLine: jackpotWinLine,\r\n\t\t\tbonusGameDatas: bonusGameDatas,\r\n\t\t\tcomboData: comboData\r\n\t\t}\r\n\t}\r\n\r\n\tprivate getComboData(rawcomboData) {\r\n\t\tvar comboData = [];\r\n\t\trawcomboData.forEach(rawData => {\r\n\t\t\tlet data = {\r\n\t\t\t\texplodedCells: [],\r\n\t\t\t\tCells: [],\r\n\t\t\t\tWinLines: [],\r\n\t\t\t\tallWinLine: null,\r\n\t\t\t\twinPoint: 0\r\n\t\t\t};\r\n\t\t\tdata.explodedCells = rawData.explodedCells;\r\n\t\t\tdata.Cells = this.createCellsResult(rawData.normalGameMatrix);\r\n\t\t\tif (this.currentSession.hasOwnProperty(\"normalPayLines\")) {\r\n\t\t\t\tthis.currentSession.normalPayLines.forEach(normalPayLine => {\r\n\t\t\t\t\tdata.WinLines.push(\r\n\t\t\t\t\t\tnew Slot45WinLineResult(WIN_LINE_MAPPING[normalPayLine.pwl - 1].slice(0, normalPayLine.pwrc), normalPayLine.pwa, [normalPayLine.pwl - 1], SLOTTY_ITEM[normalPayLine.psc], false, NEAR_WIN_SYMBOL.includes((SLOTTY_ITEM[normalPayLine.psc]))));\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tdata.WinLines.forEach(winLine => data.winPoint += winLine.GetWinPoint());\r\n\t\t\tcomboData.push(data);\r\n\t\t});\r\n\t\treturn comboData;\r\n\t}\r\n\r\n\tprivate createCellsResult(arrItem) {\r\n\t\tvar cellsResult = [];\r\n\t\tfor (let rowIndex = 0; rowIndex < rowCount; rowIndex++) {\r\n\t\t\tfor (let reelIndex = 0; reelIndex < reelCount; reelIndex++) {\r\n\t\t\t\tvar item = arrItem[reelIndex][rowIndex];\r\n\t\t\t\tlet cellIndex = SlottyParameter.GetCellIndex(reelIndex, rowIndex);\r\n\t\t\t\tcellsResult.push(SLOTTY_ITEM[item]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn cellsResult;\r\n\t}\r\n\r\n\tprivate nextScrollData(): void {\r\n\t\tlet result = this.processNormalData();\r\n\t\tsetTimeout(() => {\r\n\t\t\tSlot45EventManager.GetInstance().notify(\"NextScrollData\", result);\r\n\t\t\tif (result.freespinLeft == 0) {\r\n\t\t\t\tthis.isFreespins = false;\r\n\t\t\t}\r\n\t\t}, 100);\r\n\t}\r\n\r\n\tprivate fakeBalanceSpin() {\r\n\t\tif (!this.isFreespins) {\r\n\t\t\tlet newBalance = Slot45BalanceModel.GetInstance().GetBalance() - Slot45BetModel.GetInstance().GetTotalBetPoint();\r\n\t\t\tSlot45BalanceModel.GetInstance().SetBalance(newBalance);\r\n\t\t\tSlot45EventManager.GetInstance().notify(\"BalanceChange\", newBalance);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate onEndRound() {\r\n\t\tlet newBalance = this.gameManager1009.getPlayerMoney();\r\n\t\tSlot45BalanceModel.GetInstance().SetBalance(newBalance);\r\n\t\tSlot45EventManager.GetInstance().notify(\"BalanceChange\", newBalance);\r\n\t}\r\n}"]}