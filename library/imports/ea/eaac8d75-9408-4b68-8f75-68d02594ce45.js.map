{"version":3,"sources":["assets\\Script\\UI\\bonus-game\\Slot45-bonus-trigger-actor.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,uFAAgF;AAChF,+EAA4E;AAC5E,wFAA2E;AAGrE,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAAgD,sCAAoB;IAApE;QAAA,qEAgDC;QA9CA,mBAAa,GAAc,EAAE,CAAC;;IA8C/B,CAAC;IA5Ca,6CAAgB,GAA1B;QACF,OAAO,gCAAoB,CAAC,WAAW,EAAE,CAAC,sBAAsB,EAAE,CAAC;IACpE,CAAC;IAES,+CAAkB,GAA5B;QACC,yCAAkB,CAAC,WAAW,EAAE,CAAC,MAAM,CAAC,YAAY,EAAE,gCAAoB,CAAC,WAAW,EAAE,CAAC,WAAW,EAAE,CAAC,CAAC;IACzG,CAAC;IAES,wCAAW,GAArB;QAAA,iBA8BC;QA7BA,yCAAkB,CAAC,WAAW,EAAE,CAAC,MAAM,CAAC,SAAS,EAAE,EAAE,OAAO,EAAE,qBAAqB,EAAE,MAAM,EAAE,KAAK,EAAE,CAAC,CAAC;QACtG,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC;QAC3B,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC;aACnB,EAAE,CAAC,GAAG,EAAE,EAAE,OAAO,EAAE,GAAG,EAAE,CAAC;aACzB,IAAI,CAAC;YACL,KAAK,IAAI,KAAK,GAAG,CAAC,EAAE,KAAK,GAAG,KAAI,CAAC,aAAa,CAAC,MAAM,EAAE,KAAK,EAAE,EAAE;gBAC/D,IAAM,KAAK,GAAG,KAAK,CAAC;gBACpB,IAAM,IAAI,GAAG,KAAI,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;gBACvC,IAAM,SAAS,GAAG,GAAG,GAAG,KAAK,CAAC;gBAC9B,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC;qBACZ,KAAK,CAAC,SAAS,CAAC;qBAChB,EAAE,CAAC,GAAG,EAAE,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC;qBACvB,EAAE,CAAC,GAAG,EAAE,EAAE,OAAO,EAAE,GAAG,EAAE,CAAC;qBACzB,EAAE,CAAC,GAAG,EAAE,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC;qBACvB,EAAE,CAAC,GAAG,EAAE,EAAE,OAAO,EAAE,GAAG,EAAE,CAAC;qBACzB,EAAE,CAAC,GAAG,EAAE,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC;qBACvB,EAAE,CAAC,GAAG,EAAE,EAAE,OAAO,EAAE,GAAG,EAAE,CAAC;qBACzB,KAAK,EAAE,CAAC;aACV;QACF,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC;QAEb,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;YACjC,KAAI,CAAC,kBAAkB,EAAE,CAAC;QAC3B,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;YAChB,yCAAkB,CAAC,WAAW,EAAE,CAAC,MAAM,CAAC,kBAAkB,CAAC,CAAC;YAC5D,KAAI,CAAC,KAAK,EAAE,CAAC;QACd,CAAC,CAAC;aACD,KAAK,EAAE,CAAC;IAEV,CAAC;IAES,kCAAK,GAAf;QACC,IAAI,CAAC,OAAO,CAAC,OAAO,GAAG,CAAC,CAAC;QACzB,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,KAAK,CAAC;IAC7B,CAAC;IA7CD;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;6DACY;IAFV,kBAAkB;QADtC,OAAO;OACa,kBAAkB,CAgDtC;IAAD,yBAAC;CAhDD,AAgDC,CAhD+C,sCAAoB,GAgDnE;kBAhDoB,kBAAkB","file":"","sourceRoot":"/","sourcesContent":["import Slot45GameController from \"../../base/controller/Slot45-game-controller\";\r\nimport { Slot45EventManager } from \"../../base/events/Slot45-event-manager\";\r\nimport Slot45FeatureTrigger from \"../feature/Slot45-feature-trigger-actor\";\r\n\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class Slot45BonusTrigger extends Slot45FeatureTrigger {\r\n\t@property(cc.Node)\r\n\tarrNodeSymbol: cc.Node[] = [];\r\n\r\n    protected checkRuleTrigger(): boolean {\r\n\t\treturn Slot45GameController.GetInstance().CheckBonusPointTrigger();\r\n\t}\r\n\r\n\tprotected notifyEnterFeature() {\r\n\t\tSlot45EventManager.GetInstance().notify(\"EnterBonus\", Slot45GameController.GetInstance().GetWinBonus());\r\n\t}\r\n\r\n\tprotected showContent(): void {\r\n\t\tSlot45EventManager.GetInstance().notify('PlaySFX', { sfxName: \"sfx_bonustransition\", isLoop: false });\r\n\t\tthis.content.active = true;\r\n\t\tcc.tween(this.content)\r\n\t\t\t\t.to(0.5, { opacity: 255 })\r\n\t\t\t\t.call(() => {\r\n\t\t\t\t\tfor (let index = 0; index < this.arrNodeSymbol.length; index++) {\r\n\t\t\t\t\t\tconst count = index;\r\n\t\t\t\t\t\tconst node = this.arrNodeSymbol[count];\r\n\t\t\t\t\t\tconst delayTime = 0.1 * count;\r\n\t\t\t\t\t\tcc.tween(node)\r\n\t\t\t\t\t\t\t.delay(delayTime)\r\n\t\t\t\t\t\t\t.to(0.1, { opacity: 0 })\r\n\t\t\t\t\t\t\t.to(0.1, { opacity: 255 })\r\n\t\t\t\t\t\t\t.to(0.1, { opacity: 0 })\r\n\t\t\t\t\t\t\t.to(0.1, { opacity: 255 })\r\n\t\t\t\t\t\t\t.to(0.1, { opacity: 0 })\r\n\t\t\t\t\t\t\t.to(0.1, { opacity: 255 })\r\n\t\t\t\t\t\t\t.start();\r\n\t\t\t\t\t}\r\n\t\t\t\t}).start();\r\n\r\n\t\tcc.tween(this.node).delay(2).call(() => {\r\n\t\t\tthis.notifyEnterFeature();\t\r\n\t\t}).delay(2).call(() => {\r\n\t\t\tSlot45EventManager.GetInstance().notify(\"BonusWinComplete\");\r\n\t\t\tthis.reset();\r\n\t\t})\r\n\t\t.start();\r\n\t\t\r\n\t}\r\n\r\n\tprotected reset(): void {\r\n\t\tthis.content.opacity = 0;\r\n\t\tthis.content.active = false;\r\n\t}\r\n}\r\n"]}