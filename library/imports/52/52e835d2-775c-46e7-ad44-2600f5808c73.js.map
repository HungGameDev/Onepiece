{"version":3,"sources":["assets\\Script\\UI\\change-bet\\Slot45-change-bet-actor.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import G1009Util from \"../../base/Util/Slot45-number-converter\";\r\nimport { G1009EventManager } from \"../../base/events/Slot45-event-manager\";\r\nimport { G1009BalanceModel } from \"../../models/Slot45-balance-model\";\r\nimport { G1009BetModel } from \"../../models/Slot45-bet-model\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class G1009ChangeBetActor extends cc.Component {\r\n\t@property(cc.Label)\r\n\tprivate lblBetPerLine: cc.Label = null;\r\n\t@property(cc.Label)\r\n\tprivate lblTotalBetPoint: cc.Label = null;\r\n\t@property(cc.Label)\r\n\tprivate lblBalance: cc.Label = null;\r\n\t@property(cc.Button)\r\n\tprivate buttonDecreaseBet: cc.Button = null;\r\n\t@property(cc.Button)\r\n\tprivate buttonIncreaseBet: cc.Button = null;\r\n\r\n\r\n\tprotected start(): void {\r\n\t\tG1009EventManager.GetInstance().register(\"resume\", this.onShowBetPanel.bind(this));\r\n\t\tG1009EventManager.GetInstance().register(\"ShowBetPanel\", this.onShowBetPanel.bind(this));\r\n\t\tG1009EventManager.GetInstance().register(\"BalanceChange\", this.onBalanceChange.bind(this));\r\n\t\tG1009EventManager.GetInstance().register(\"Spin\", this.onLockButton.bind(this));\r\n\t\tG1009EventManager.GetInstance().register(\"ActiveAuto\", this.onLockButton.bind(this));\r\n\t\tG1009EventManager.GetInstance().register(\"SetBet\", this.SetBetValues.bind(this));\r\n\t}\r\n\r\n\tprivate onLockButton(): void {\r\n\t\tthis.buttonDecreaseBet.interactable = false;\r\n\t\tthis.buttonIncreaseBet.interactable = false;\r\n\t\r\n\t}\r\n\r\n\tprivate onSpinComplete(): void {\r\n\t\tthis.buttonDecreaseBet.interactable = this.validatorButtonIncreaseBet();\r\n\t\tthis.buttonIncreaseBet.interactable = this.validatorButtonIncreaseBet();\r\n\t\t\r\n\t}\r\n\r\n\tprivate onBalanceChange(point): void {\r\n\t\tthis.lblBalance.string = G1009Util.Instance().NumberFormatWithoutCharacter(point);\r\n\t}\r\n\r\n\tprivate onShowBetPanel(): void {\r\n\t\tthis.lblBetPerLine.string = G1009Util.Instance().NumberFormatWithoutCharacter(G1009BetModel.GetInstance().GetCurrentBetPerLine());\r\n\t\tthis.lblBalance.string = G1009Util.Instance().NumberFormatWithoutCharacter(G1009BalanceModel.GetInstance().GetBalance());\r\n\t\tthis.lblTotalBetPoint.string = G1009Util.Instance().NumberFormatWithoutCharacter(G1009BetModel.GetInstance().GetTotalBetPoint());\r\n\t\tthis.buttonDecreaseBet.interactable = this.validatorButtonIncreaseBet();\r\n\t\tthis.buttonIncreaseBet.interactable = this.validatorButtonIncreaseBet();\r\n\t\t\r\n\t}\r\n\r\n\tprivate validatorButtonIncreaseBet(): boolean {\r\n\t\treturn G1009BetModel.GetInstance().GetNextTotalBetPoint() <= G1009BalanceModel.GetInstance().GetBalance() && G1009BetModel.GetInstance().GetNextBetPerLine() != G1009BetModel.GetInstance().GetCurrentBetPerLine();\r\n\t}\r\n\r\n\tprivate validatorButtonDecreaseBet(): boolean {\r\n\t\treturn G1009BetModel.GetInstance().GetPreviousBetPerLine() <= G1009BalanceModel.GetInstance().GetBalance() && G1009BetModel.GetInstance().GetPreviousBetPerLine() != G1009BetModel.GetInstance().GetCurrentBetPerLine();\r\n\t}\r\n\r\n\tpublic IncreaseBetPerLine() {\r\n\t\tif (this.validatorButtonIncreaseBet())\r\n\t\t{\r\n\t\t\tG1009EventManager.GetInstance().notify(\"SetBetIncrease\",G1009BetModel.GetInstance().GetNextBetPerLineIndex());\r\n\t\t\tG1009BetModel.GetInstance().IncreaseBetPerLine();\t\t\t\t\t\r\n\t\t}\r\n\t\tthis.changeBet();\r\n\t}\r\n\r\n\tpublic DecreaseBetPerLine() {\r\n\t\tif (this.validatorButtonDecreaseBet())\r\n\t\t{\r\n\t\t\tG1009BetModel.GetInstance().DecreaseBetPerLine();\r\n\t\t\tthis.changeBet();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic SetBetValues(betIndex: number) {\r\n\t\tG1009BetModel.GetInstance().SetBetbyIndex(betIndex);\r\n\t\tthis.changeBet();\t\r\n\t}\r\n\r\n\tprivate changeBet(): void {\r\n\r\n\t\tthis.lblBetPerLine.string = G1009Util.Instance().NumberFormatWithoutCharacter(G1009BetModel.GetInstance().GetCurrentBetPerLine());\r\n\t\tthis.lblTotalBetPoint.string = G1009Util.Instance().NumberFormatWithoutCharacter(G1009BetModel.GetInstance().GetTotalBetPoint());\r\n\t\tG1009EventManager.GetInstance().notify(\"ChangeBet\");\r\n\t}\r\n\r\n\tpublic ShowBetClick():void\r\n\t{\r\n\t\tthis.node.active = !this.node.active;\r\n\t}\r\n}"]}