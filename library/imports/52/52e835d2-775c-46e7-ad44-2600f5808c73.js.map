{"version":3,"sources":["assets\\Script\\UI\\change-bet\\Slot45-change-bet-actor.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import Slot45Util from \"../../base/Util/Slot45-number-converter\";\r\nimport { Slot45EventManager } from \"../../base/events/Slot45-event-manager\";\r\nimport { Slot45BalanceModel } from \"../../models/Slot45-balance-model\";\r\nimport { Slot45BetModel } from \"../../models/Slot45-bet-model\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class Slot45ChangeBetActor extends cc.Component {\r\n\t@property(cc.Label)\r\n\tprivate lblBetPerLine: cc.Label = null;\r\n\t@property(cc.Label)\r\n\tprivate lblTotalBetPoint: cc.Label = null;\r\n\t@property(cc.Label)\r\n\tprivate lblBalance: cc.Label = null;\r\n\t@property(cc.Button)\r\n\tprivate buttonDecreaseBet: cc.Button = null;\r\n\t@property(cc.Button)\r\n\tprivate buttonIncreaseBet: cc.Button = null;\r\n\r\n\r\n\tprotected start(): void {\r\n\t\tSlot45EventManager.GetInstance().register(\"resume\", this.onShowBetPanel.bind(this));\r\n\t\tSlot45EventManager.GetInstance().register(\"ShowBetPanel\", this.onShowBetPanel.bind(this));\r\n\t\tSlot45EventManager.GetInstance().register(\"BalanceChange\", this.onBalanceChange.bind(this));\r\n\t\tSlot45EventManager.GetInstance().register(\"Spin\", this.onLockButton.bind(this));\r\n\t\tSlot45EventManager.GetInstance().register(\"ActiveAuto\", this.onLockButton.bind(this));\r\n\t\tSlot45EventManager.GetInstance().register(\"SetBet\", this.SetBetValues.bind(this));\r\n\t}\r\n\r\n\tprivate onLockButton(): void {\r\n\t\tthis.buttonDecreaseBet.interactable = false;\r\n\t\tthis.buttonIncreaseBet.interactable = false;\r\n\t\r\n\t}\r\n\r\n\tprivate onSpinComplete(): void {\r\n\t\tthis.buttonDecreaseBet.interactable = this.validatorButtonIncreaseBet();\r\n\t\tthis.buttonIncreaseBet.interactable = this.validatorButtonIncreaseBet();\r\n\t\t\r\n\t}\r\n\r\n\tprivate onBalanceChange(point): void {\r\n\t\tthis.lblBalance.string = Slot45Util.Instance().NumberFormatWithoutCharacter(point);\r\n\t}\r\n\r\n\tprivate onShowBetPanel(): void {\r\n\t\tthis.lblBetPerLine.string = Slot45Util.Instance().NumberFormatWithoutCharacter(Slot45BetModel.GetInstance().GetCurrentBetPerLine());\r\n\t\tthis.lblBalance.string = Slot45Util.Instance().NumberFormatWithoutCharacter(Slot45BalanceModel.GetInstance().GetBalance());\r\n\t\tthis.lblTotalBetPoint.string = Slot45Util.Instance().NumberFormatWithoutCharacter(Slot45BetModel.GetInstance().GetTotalBetPoint());\r\n\t\tthis.buttonDecreaseBet.interactable = this.validatorButtonIncreaseBet();\r\n\t\tthis.buttonIncreaseBet.interactable = this.validatorButtonIncreaseBet();\r\n\t\t\r\n\t}\r\n\r\n\tprivate validatorButtonIncreaseBet(): boolean {\r\n\t\treturn Slot45BetModel.GetInstance().GetNextTotalBetPoint() <= Slot45BalanceModel.GetInstance().GetBalance() && Slot45BetModel.GetInstance().GetNextBetPerLine() != Slot45BetModel.GetInstance().GetCurrentBetPerLine();\r\n\t}\r\n\r\n\tprivate validatorButtonDecreaseBet(): boolean {\r\n\t\treturn Slot45BetModel.GetInstance().GetPreviousBetPerLine() <= Slot45BalanceModel.GetInstance().GetBalance() && Slot45BetModel.GetInstance().GetPreviousBetPerLine() != Slot45BetModel.GetInstance().GetCurrentBetPerLine();\r\n\t}\r\n\r\n\tpublic IncreaseBetPerLine() {\r\n\t\tif (this.validatorButtonIncreaseBet())\r\n\t\t{\r\n\t\t\tSlot45EventManager.GetInstance().notify(\"SetBetIncrease\",Slot45BetModel.GetInstance().GetNextBetPerLineIndex());\r\n\t\t\tSlot45BetModel.GetInstance().IncreaseBetPerLine();\t\t\t\t\t\r\n\t\t}\r\n\t\tthis.changeBet();\r\n\t}\r\n\r\n\tpublic DecreaseBetPerLine() {\r\n\t\tif (this.validatorButtonDecreaseBet())\r\n\t\t{\r\n\t\t\tSlot45BetModel.GetInstance().DecreaseBetPerLine();\r\n\t\t\tthis.changeBet();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic SetBetValues(betIndex: number) {\r\n\t\tSlot45BetModel.GetInstance().SetBetbyIndex(betIndex);\r\n\t\tthis.changeBet();\t\r\n\t}\r\n\r\n\tprivate changeBet(): void {\r\n\r\n\t\tthis.lblBetPerLine.string = Slot45Util.Instance().NumberFormatWithoutCharacter(Slot45BetModel.GetInstance().GetCurrentBetPerLine());\r\n\t\tthis.lblTotalBetPoint.string = Slot45Util.Instance().NumberFormatWithoutCharacter(Slot45BetModel.GetInstance().GetTotalBetPoint());\r\n\t\tSlot45EventManager.GetInstance().notify(\"ChangeBet\");\r\n\t}\r\n\r\n\tpublic ShowBetClick():void\r\n\t{\r\n\t\tthis.node.active = !this.node.active;\r\n\t}\r\n}"]}