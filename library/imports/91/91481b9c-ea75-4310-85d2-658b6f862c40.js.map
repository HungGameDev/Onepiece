{"version":3,"sources":["assets/Script/UI/popup/aka-g1009-popup-select-bet.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { G1009EventManager } from \"../../base/events/aka-g1009-event-manager\";\nimport { G1009BalanceModel } from \"../../models/aka-g1009-balance-model\";\nimport { G1009BetModel } from \"../../models/aka-g1009-bet-model\";\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class G1009PopUpSelectBetActor extends cc.Component {\n\n    \n    @property(cc.Node)\n    content: cc.Node = null;\n\n  \n    selectedBetLine: number[];\n\n\n    protected start(): void {\n        this.resetSelectBetLine();\n    }\n    protected onLoad(): void {\n        this.register();\n    }\n\n    private register(): void {\n        G1009EventManager.GetInstance().register(\"ShowBetLinePanel\", this.onShowClick.bind(this));\n        G1009EventManager.GetInstance().register(\"SelectBetLineClick\", this.onSelectBetLineClick.bind(this));\n    }\n\n    private reset(): void {\n        this.content.active = false;\n    }\n    \n    public onClosePopupClick(): void {\n        if (this.validatorBet())\n        {\n            cc.tween(this.content)\n            .to(0.2, { opacity: 0 })\n            .call(() => {\n                this.reset()\n                G1009EventManager.GetInstance().notify(\"UpdateBetLine\", this.selectedBetLine);\n            })\n            .start();\n        }\n        else\n        {\n            G1009EventManager.GetInstance().notify(\"PopupInfoMessage\", { message: \"khong du tien\", type: \"info\" });         \n        }\n       \n    }\n\n    private onSelectBetLineClick(data: any): void {\n        if (data.isCheck)\n        {\n            if (!this.selectedBetLine.includes(data.id))\n            {\n                this.selectedBetLine.push(data.id);\n            }\n        }\n        else\n        {\n            if (this.selectedBetLine.includes(data.id))\n            {\n                var index = this.selectedBetLine.indexOf(data.id);\n                delete this.selectedBetLine[index];\n            }\n        }\n        this.selectedBetLine = this.selectedBetLine.filter(function (element) {\n            return element !== undefined;\n        });\n \n        this.selectedBetLine.sort((a, b) => a - b);\n    }\n\n    private onTakeEvenLine() {        \n        this.resetSelectBetLine();\n        this.selectedBetLine = this.selectedBetLine.filter(function (element) {\n            return element % 2 == 0;\n        });  \n        G1009EventManager.GetInstance().notify(\"ChangeToggleState\", this.selectedBetLine);\n    }\n\n    private onTakAllLine() {\n        this.resetSelectBetLine();\n        G1009EventManager.GetInstance().notify(\"ChangeToggleState\", this.selectedBetLine);\n    }\n\n    private onTakNoLine() {\n        this.selectedBetLine = [];\n        G1009EventManager.GetInstance().notify(\"ChangeToggleState\", this.selectedBetLine);\n    }\n\n    private onTakeOddLine() {\n        this.resetSelectBetLine();\n        this.selectedBetLine = this.selectedBetLine.filter(function (element) {\n            return element % 2 !== 0;\n        });\n        G1009EventManager.GetInstance().notify(\"ChangeToggleState\", this.selectedBetLine);\n    }\n\n    private resetSelectBetLine()\n    {\n        this.selectedBetLine = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20];\n    }\n    public check(param: number): void {\n        this.content.opacity = 255;\n    }\n    \n    private onShowClick(): void {\n        this.content.opacity = 255;\n        this.content.active = true;\n    }\n\n    private validatorBet(): boolean {\n\t\treturn G1009BetModel.GetInstance().TryGetTotalBetPointByBetMultiplier(this.selectedBetLine.length) <= G1009BalanceModel.GetInstance().GetBalance();\n\t}\n}\n"]}