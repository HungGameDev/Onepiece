{"version":3,"sources":["assets\\Script\\UI\\popup\\Slot45-popup-select-bet.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { Slot45EventManager } from \"../../base/events/Slot45-event-manager\";\r\nimport { Slot45BalanceModel } from \"../../models/Slot45-balance-model\";\r\nimport { Slot45BetModel } from \"../../models/Slot45-bet-model\";\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class Slot45PopUpSelectBetActor extends cc.Component {\r\n\r\n    \r\n    @property(cc.Node)\r\n    content: cc.Node = null;\r\n\r\n  \r\n    selectedBetLine: number[];\r\n\r\n\r\n    protected start(): void {\r\n        this.resetSelectBetLine();\r\n    }\r\n    protected onLoad(): void {\r\n        this.register();\r\n    }\r\n\r\n    private register(): void {\r\n        Slot45EventManager.GetInstance().register(\"ShowBetLinePanel\", this.onShowClick.bind(this));\r\n        Slot45EventManager.GetInstance().register(\"SelectBetLineClick\", this.onSelectBetLineClick.bind(this));\r\n    }\r\n\r\n    private reset(): void {\r\n        this.content.active = false;\r\n    }\r\n    \r\n    public onClosePopupClick(): void {\r\n        if (this.validatorBet())\r\n        {\r\n            cc.tween(this.content)\r\n            .to(0.2, { opacity: 0 })\r\n            .call(() => {\r\n                this.reset()\r\n                Slot45EventManager.GetInstance().notify(\"UpdateBetLine\", this.selectedBetLine);\r\n            })\r\n            .start();\r\n        }\r\n        else\r\n        {\r\n            Slot45EventManager.GetInstance().notify(\"PopupInfoMessage\", { message: \"khong du tien\", type: \"info\" });         \r\n        }\r\n       \r\n    }\r\n\r\n    private onSelectBetLineClick(data: any): void {\r\n        if (data.isCheck)\r\n        {\r\n            if (!this.selectedBetLine.includes(data.id))\r\n            {\r\n                this.selectedBetLine.push(data.id);\r\n            }\r\n        }\r\n        else\r\n        {\r\n            if (this.selectedBetLine.includes(data.id))\r\n            {\r\n                var index = this.selectedBetLine.indexOf(data.id);\r\n                delete this.selectedBetLine[index];\r\n            }\r\n        }\r\n        this.selectedBetLine = this.selectedBetLine.filter(function (element) {\r\n            return element !== undefined;\r\n        });\r\n \r\n        this.selectedBetLine.sort((a, b) => a - b);\r\n    }\r\n\r\n    private onTakeEvenLine() {        \r\n        this.resetSelectBetLine();\r\n        this.selectedBetLine = this.selectedBetLine.filter(function (element) {\r\n            return element % 2 == 0;\r\n        });  \r\n        Slot45EventManager.GetInstance().notify(\"ChangeToggleState\", this.selectedBetLine);\r\n    }\r\n\r\n    private onTakAllLine() {\r\n        this.resetSelectBetLine();\r\n        Slot45EventManager.GetInstance().notify(\"ChangeToggleState\", this.selectedBetLine);\r\n    }\r\n\r\n    private onTakNoLine() {\r\n        this.selectedBetLine = [];\r\n        Slot45EventManager.GetInstance().notify(\"ChangeToggleState\", this.selectedBetLine);\r\n    }\r\n\r\n    private onTakeOddLine() {\r\n        this.resetSelectBetLine();\r\n        this.selectedBetLine = this.selectedBetLine.filter(function (element) {\r\n            return element % 2 !== 0;\r\n        });\r\n        Slot45EventManager.GetInstance().notify(\"ChangeToggleState\", this.selectedBetLine);\r\n    }\r\n\r\n    private resetSelectBetLine()\r\n    {\r\n        this.selectedBetLine = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20];\r\n    }\r\n    public check(param: number): void {\r\n        this.content.opacity = 255;\r\n    }\r\n    \r\n    private onShowClick(): void {\r\n        this.content.opacity = 255;\r\n        this.content.active = true;\r\n    }\r\n\r\n    private validatorBet(): boolean {\r\n\t\treturn Slot45BetModel.GetInstance().TryGetTotalBetPointByBetMultiplier(this.selectedBetLine.length) <= Slot45BalanceModel.GetInstance().GetBalance();\r\n\t}\r\n}\r\n"]}