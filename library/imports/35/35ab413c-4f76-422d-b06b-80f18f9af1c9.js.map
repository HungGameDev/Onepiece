{"version":3,"sources":["assets/Script/UI/history-popup/aka-g1009-popup-jackpot-history.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,+DAAiE;AACjE,qFAA8E;AAC9E,qEAA0D;AAC1D,+FAAkF;AAE5E,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAAmD,yCAAiB;IAApE;QAAA,qEA6CC;QA3CQ,aAAO,GAAU,IAAI,CAAC;QACtB,iBAAW,GAAU,IAAI,CAAC;;IA0CnC,CAAC;IAxCS,qCAAK,GAAL;QACR,IAAI,CAAC,IAAI,EAAE,CAAC;QACZ,2CAAiB,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,cAAc,EAAE,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;IAEhF,CAAC;IACS,oCAAI,GAAJ;QAAA,iBAOT;QANA,IAAI,CAAC,eAAe,CAAC,YAAY,CAAC,IAAI,CAAC,SAAS,GAAG,CAAC,EAAE,EAAE,CAAC,CAAC,IAAI,CAAC,UAAC,IAAI;YACnE,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC;YAClC,KAAI,CAAC,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC;YACzB,KAAI,CAAC,WAAW,GAAG,KAAI,CAAC,OAAO,CAAC,MAAM,CAAC,UAAA,CAAC,IAAI,OAAA,CAAC,CAAC,IAAI,IAAI,SAAS,EAAnB,CAAmB,CAAC,CAAC;YACjE,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC7B,CAAC,CAAC,CAAC;IACJ,CAAC;IAES,2CAAW,GAArB,UAAsB,WAAkB;QAEvC,KAAK,IAAI,KAAK,GAAG,CAAC,EAAE,KAAK,GAAG,WAAW,CAAC,MAAM,EAAE,KAAK,EAAE,EAAE;YACxD,IAAM,IAAI,GAAG,WAAW,CAAC,KAAK,CAAC,CAAC;YAChC,IAAI,IAAI,GAAG,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;YAC3C,IAAI,aAAa,GAAG,IAAI,CAAC,YAAY,CAAC,8CAA4B,CAAC,CAAC;YACpE,IAAI,IAAI,GAAW,gCAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAC/C,aAAa,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,EAAE,IAAI,CAAC,OAAO,EAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;YAChF,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;SAEjC;IACF,CAAC;IAEM,0CAAU,GAAjB;QAGC,IAAI,CAAC,WAAW,CAAC,kBAAkB,EAAE,CAAC;QACtC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IAChC,CAAC;IAEM,8CAAc,GAArB;QAEC,IAAI,CAAC,WAAW,CAAC,kBAAkB,EAAE,CAAC;QACtC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IACpC,CAAC;IA3CmB,qBAAqB;QADzC,OAAO;OACa,qBAAqB,CA6CzC;IAAD,4BAAC;CA7CD,AA6CC,CA7CkD,iCAAiB,GA6CnE;kBA7CoB,qBAAqB","file":"","sourceRoot":"/","sourcesContent":["import { formatDDMMHHmmSS } from \"../../base/Util/aka_date-util\";\nimport { G1009EventManager } from \"../../base/events/aka-g1009-event-manager\";\nimport G1009PopupHistory from \"./aka-g1009-popup-history\";\nimport G1009PopupJackpotHistoryItem from \"./aka-g1009-popup-jackpot-history-item\";\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class G1009PopupLeaderBoard extends G1009PopupHistory {\n\n\tprivate allData: any[] = null;\n\tprivate jackpotData: any[] = null;\n\n\toverride start(): void {\n\t\tthis.Init();\n\t\tG1009EventManager.GetInstance().register(\"OpenJackpotH\", this.Show.bind(this));\n\n\t}\n\toverride  Init(): void {\n\t\tthis.gameManager1009.getJPHistory(this.pageIndex * 6, 20).then((data) => {\n\t\t\tconsole.log('getJPHistory', data);\n\t\t\tthis.allData = data.data;\n\t\t\tthis.jackpotData = this.allData.filter(x => x.type == 'Jackpot');\n\t\t\tthis.processData(data.data);\n\t\t});\n\t}\n\n\tprotected processData(historyData: any[]) {\n\n\t\tfor (let index = 0; index < historyData.length; index++) {\n\t\t\tconst data = historyData[index];\n\t\t\tlet item = cc.instantiate(this.prefabItem);\n\t\t\tlet itemComponent = item.getComponent(G1009PopupJackpotHistoryItem);\t\t\n\t\t\tlet time: string = formatDDMMHHmmSS(data.time);\n\t\t\titemComponent.SetInfoItem(data.session, time, data.wonUser,data.win, data.type);\n\t\t\titem.setParent(this.contentView);\n\t\t\t\n\t\t}\t\n\t}\n\n\tpublic OnAllClick()\n\t{\n\t\t\n\t\tthis.contentView.destroyAllChildren();\n\t\tthis.processData(this.allData);\n\t}\n\n\tpublic OnJackPotClick() {\n\t\t\n\t\tthis.contentView.destroyAllChildren();\n\t\tthis.processData(this.jackpotData);\n\t}\n\n}\n"]}