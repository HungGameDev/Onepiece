{"version":3,"sources":["assets\\Script\\UI\\history-popup\\Slot45-popup-ranking.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,qEAAoE;AACpE,+EAA4E;AAC5E,+DAAwD;AACxD,yEAAiE;AAE3D,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAAoD,0CAAkB;IAAtE;QAAA,qEA6CC;QA3CQ,aAAO,GAAU,IAAI,CAAC;QACtB,iBAAW,GAAU,IAAI,CAAC;;IA0CnC,CAAC;IAxCS,sCAAK,GAAL;QACR,IAAI,CAAC,IAAI,EAAE,CAAC;QACZ,yCAAkB,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,cAAc,EAAE,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;IAEjF,CAAC;IACS,qCAAI,GAAJ;QAAA,iBAOT;QANA,IAAI,CAAC,eAAe,CAAC,YAAY,CAAC,IAAI,CAAC,SAAS,GAAG,CAAC,EAAE,EAAE,CAAC,CAAC,IAAI,CAAC,UAAC,IAAI;YACnE,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC;YAClC,KAAI,CAAC,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC;YACzB,KAAI,CAAC,WAAW,GAAG,KAAI,CAAC,OAAO,CAAC,MAAM,CAAC,UAAA,CAAC,IAAI,OAAA,CAAC,CAAC,IAAI,IAAI,OAAO,EAAjB,CAAiB,CAAC,CAAC;YAC/D,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC7B,CAAC,CAAC,CAAC;IACJ,CAAC;IAES,4CAAW,GAArB,UAAsB,WAAkB;QACvC,IAAI,KAAK,GAAG,CAAC,CAAC;QACd,KAAK,IAAI,KAAK,GAAG,CAAC,EAAE,KAAK,GAAG,WAAW,CAAC,MAAM,EAAE,KAAK,EAAE,EAAE;YACxD,IAAM,IAAI,GAAG,WAAW,CAAC,KAAK,CAAC,CAAC;YAChC,KAAK,EAAE,CAAC;YACR,IAAI,IAAI,GAAG,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;YAC3C,IAAI,aAAa,GAAG,IAAI,CAAC,YAAY,CAAC,mCAAsB,CAAC,CAAC;YAC9D,IAAI,IAAI,GAAW,mCAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAC/C,aAAa,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,EAAE,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;YACxF,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;SAEjC;IACF,CAAC;IAEM,2CAAU,GAAjB;QAEC,IAAI,CAAC,WAAW,CAAC,kBAAkB,EAAE,CAAC;QACtC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IAChC,CAAC;IAEM,+CAAc,GAArB;QAEC,IAAI,CAAC,WAAW,CAAC,kBAAkB,EAAE,CAAC;QACtC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IACpC,CAAC;IA3CmB,sBAAsB;QAD1C,OAAO;OACa,sBAAsB,CA6C1C;IAAD,6BAAC;CA7CD,AA6CC,CA7CmD,8BAAkB,GA6CrE;kBA7CoB,sBAAsB","file":"","sourceRoot":"/","sourcesContent":["import { formatDDMMHHmmSS } from \"../../base/Util/Slot45_date-util\";\r\nimport { Slot45EventManager } from \"../../base/events/Slot45-event-manager\";\r\nimport Slot45PopupHistory from \"./Slot45-popup-history\";\r\nimport Slot45PopupRankingItem from \"./Slot45-popup-ranking-item\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class Slot45PopupLeaderBoard extends Slot45PopupHistory {\r\n\r\n\tprivate allData: any[] = null;\r\n\tprivate jackpotData: any[] = null;\r\n\r\n\toverride start(): void {\r\n\t\tthis.Init();\r\n\t\tSlot45EventManager.GetInstance().register(\"OpenJackpotH\", this.Show.bind(this));\r\n\r\n\t}\r\n\toverride  Init(): void {\r\n\t\tthis.gameManager1009.getJPHistory(this.pageIndex * 6, 20).then((data) => {\r\n\t\t\tconsole.log('getJPHistory', data);\r\n\t\t\tthis.allData = data.data;\r\n\t\t\tthis.jackpotData = this.allData.filter(x => x.type == 'Nổ Hũ');\r\n\t\t\tthis.processData(data.data);\r\n\t\t});\r\n\t}\r\n\r\n\tprotected processData(historyData: any[]) {\r\n\t\tvar count = 0;\r\n\t\tfor (let index = 0; index < historyData.length; index++) {\r\n\t\t\tconst data = historyData[index];\r\n\t\t\tcount++;\r\n\t\t\tlet item = cc.instantiate(this.prefabItem);\r\n\t\t\tlet itemComponent = item.getComponent(Slot45PopupRankingItem);\r\n\t\t\tlet time: string = formatDDMMHHmmSS(data.time);\r\n\t\t\titemComponent.SetInfoItem(data.session, time, data.wonUser, data.win, data.type, count);\r\n\t\t\titem.setParent(this.contentView);\r\n\r\n\t\t}\r\n\t}\r\n\r\n\tpublic OnAllClick() {\r\n\r\n\t\tthis.contentView.destroyAllChildren();\r\n\t\tthis.processData(this.allData);\r\n\t}\r\n\r\n\tpublic OnJackPotClick() {\r\n\r\n\t\tthis.contentView.destroyAllChildren();\r\n\t\tthis.processData(this.jackpotData);\r\n\t}\r\n\r\n}\r\n"]}