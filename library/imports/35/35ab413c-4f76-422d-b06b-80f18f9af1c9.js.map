{"version":3,"sources":["assets\\Script\\UI\\history-popup\\Slot45-popup-ranking.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,qEAAoE;AACpE,+EAA2E;AAC3E,+DAAuD;AACvD,yEAAgE;AAE1D,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAAmD,yCAAiB;IAApE;QAAA,qEA6CC;QA3CQ,aAAO,GAAU,IAAI,CAAC;QACtB,iBAAW,GAAU,IAAI,CAAC;;IA0CnC,CAAC;IAxCS,qCAAK,GAAL;QACR,IAAI,CAAC,IAAI,EAAE,CAAC;QACZ,wCAAiB,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,cAAc,EAAE,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;IAEhF,CAAC;IACS,oCAAI,GAAJ;QAAA,iBAOT;QANA,IAAI,CAAC,eAAe,CAAC,YAAY,CAAC,IAAI,CAAC,SAAS,GAAG,CAAC,EAAE,EAAE,CAAC,CAAC,IAAI,CAAC,UAAC,IAAI;YACnE,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC;YAClC,KAAI,CAAC,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC;YACzB,KAAI,CAAC,WAAW,GAAG,KAAI,CAAC,OAAO,CAAC,MAAM,CAAC,UAAA,CAAC,IAAI,OAAA,CAAC,CAAC,IAAI,IAAI,OAAO,EAAjB,CAAiB,CAAC,CAAC;YAC/D,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC7B,CAAC,CAAC,CAAC;IACJ,CAAC;IAES,2CAAW,GAArB,UAAsB,WAAkB;QACvC,IAAI,KAAK,GAAG,CAAC,CAAC;QACd,KAAK,IAAI,KAAK,GAAG,CAAC,EAAE,KAAK,GAAG,WAAW,CAAC,MAAM,EAAE,KAAK,EAAE,EAAE;YACxD,IAAM,IAAI,GAAG,WAAW,CAAC,KAAK,CAAC,CAAC;YAChC,KAAK,EAAE,CAAC;YACR,IAAI,IAAI,GAAG,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;YAC3C,IAAI,aAAa,GAAG,IAAI,CAAC,YAAY,CAAC,mCAAqB,CAAC,CAAC;YAC7D,IAAI,IAAI,GAAW,mCAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAC/C,aAAa,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,EAAE,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;YACxF,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;SAEjC;IACF,CAAC;IAEM,0CAAU,GAAjB;QAEC,IAAI,CAAC,WAAW,CAAC,kBAAkB,EAAE,CAAC;QACtC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IAChC,CAAC;IAEM,8CAAc,GAArB;QAEC,IAAI,CAAC,WAAW,CAAC,kBAAkB,EAAE,CAAC;QACtC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IACpC,CAAC;IA3CmB,qBAAqB;QADzC,OAAO;OACa,qBAAqB,CA6CzC;IAAD,4BAAC;CA7CD,AA6CC,CA7CkD,8BAAiB,GA6CnE;kBA7CoB,qBAAqB","file":"","sourceRoot":"/","sourcesContent":["import { formatDDMMHHmmSS } from \"../../base/Util/Slot45_date-util\";\r\nimport { G1009EventManager } from \"../../base/events/Slot45-event-manager\";\r\nimport G1009PopupHistory from \"./Slot45-popup-history\";\r\nimport G1009PopupRankingItem from \"./Slot45-popup-ranking-item\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class G1009PopupLeaderBoard extends G1009PopupHistory {\r\n\r\n\tprivate allData: any[] = null;\r\n\tprivate jackpotData: any[] = null;\r\n\r\n\toverride start(): void {\r\n\t\tthis.Init();\r\n\t\tG1009EventManager.GetInstance().register(\"OpenJackpotH\", this.Show.bind(this));\r\n\r\n\t}\r\n\toverride  Init(): void {\r\n\t\tthis.gameManager1009.getJPHistory(this.pageIndex * 6, 20).then((data) => {\r\n\t\t\tconsole.log('getJPHistory', data);\r\n\t\t\tthis.allData = data.data;\r\n\t\t\tthis.jackpotData = this.allData.filter(x => x.type == 'Nổ Hũ');\r\n\t\t\tthis.processData(data.data);\r\n\t\t});\r\n\t}\r\n\r\n\tprotected processData(historyData: any[]) {\r\n\t\tvar count = 0;\r\n\t\tfor (let index = 0; index < historyData.length; index++) {\r\n\t\t\tconst data = historyData[index];\r\n\t\t\tcount++;\r\n\t\t\tlet item = cc.instantiate(this.prefabItem);\r\n\t\t\tlet itemComponent = item.getComponent(G1009PopupRankingItem);\r\n\t\t\tlet time: string = formatDDMMHHmmSS(data.time);\r\n\t\t\titemComponent.SetInfoItem(data.session, time, data.wonUser, data.win, data.type, count);\r\n\t\t\titem.setParent(this.contentView);\r\n\r\n\t\t}\r\n\t}\r\n\r\n\tpublic OnAllClick() {\r\n\r\n\t\tthis.contentView.destroyAllChildren();\r\n\t\tthis.processData(this.allData);\r\n\t}\r\n\r\n\tpublic OnJackPotClick() {\r\n\r\n\t\tthis.contentView.destroyAllChildren();\r\n\t\tthis.processData(this.jackpotData);\r\n\t}\r\n\r\n}\r\n"]}