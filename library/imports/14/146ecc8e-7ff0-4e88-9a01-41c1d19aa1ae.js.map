{"version":3,"sources":["assets\\Script\\UI\\popup\\Slot45-bet-button-v2.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AACA,+EAA2E;AAC3E,mFAAgE;AAChE,kEAA8D;AAC9D,yDAAsD;AAEhD,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAAmD,yCAAmB;IAAtE;QAAA,qEAsCC;QAnCC,oBAAc,GAAa,IAAI,CAAC;;IAmClC,CAAC;IAhCQ,qCAAK,GAAZ;QACE,wCAAiB,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,UAAU,EAAE,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACjF,wCAAiB,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,eAAe,EAAE,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;IAC7F,CAAC;IAEO,+CAAe,GAAvB,UAAwB,KAAK;QAC3B,IAAI,GAAG,GAAG,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;QAChC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAA,OAAO;YAC3B,IAAI,WAAW,GAAQ,GAAG,CAAC,IAAI,CAAC,UAAC,IAAS;gBACxC,OAAO,IAAI,CAAC,CAAC,CAAC,CAAC,SAAS,IAAI,OAAO,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;YAChE,CAAC,CAAC,CAAA;YACF,OAAO,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,aAAa,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC;QACvE,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,WAAW,EAAE,CAAC;IACrB,CAAC;IAEO,0CAAU,GAAlB,UAAmB,IAAI;QACrB,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;QACxC,IAAI,CAAC,WAAW,EAAE,CAAC;IACrB,CAAC;IAEQ,6CAAa,GAAb;QACP,iBAAM,aAAa,WAAE,CAAC;QACtB,wCAAiB,CAAC,WAAW,EAAE,CAAC,MAAM,CAAC,SAAS,EAAE,EAAE,OAAO,EAAE,iBAAiB,EAAE,MAAM,EAAE,KAAK,EAAE,CAAC,CAAC;IAEnG,CAAC;IAEO,2CAAW,GAAnB;QACE,IAAI,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC3C,IAAI,CAAC,aAAa,CAAC,MAAM,GAAG,gCAAa,CAAC,WAAW,EAAE,CAAC,kBAAkB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,QAAQ,EAAE,CAAC;QACrG,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,iCAAS,CAAC,QAAQ,EAAE,CAAC,4BAA4B,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC;IACxH,CAAC;IAlCD;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;iEACa;IAHb,qBAAqB;QADzC,OAAO;OACa,qBAAqB,CAsCzC;IAAD,4BAAC;CAtCD,AAsCC,CAtCkD,2BAAmB,GAsCrE;kBAtCoB,qBAAqB","file":"","sourceRoot":"/","sourcesContent":["\r\nimport { G1009EventManager } from \"../../base/events/Slot45-event-manager\";\r\nimport G1009Util from \"../../base/Util/Slot45-number-converter\";\r\nimport { G1009BetModel } from \"../../models/Slot45-bet-model\";\r\nimport G1009BetButtonActor from \"./Slot45-bet-button\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class G1009BetButtonv2Actor extends G1009BetButtonActor {\r\n\r\n  @property(cc.Label)\r\n  txtJackpotText: cc.Label = null;\r\n\r\n  private betInfos: any;\r\n  public start(): void {\r\n    G1009EventManager.GetInstance().register('BetInfos', this.onBetInfos.bind(this));\r\n    G1009EventManager.GetInstance().register('JackpotUpdate', this.onJackpotUpdate.bind(this));\r\n  }\r\n\r\n  private onJackpotUpdate(datas): void {\r\n    let arr = Object.entries(datas);\r\n    this.betInfos.forEach(betInfo => {\r\n      let jackpotData: any = arr.find((data: any) => {\r\n        return data[1].jackpotId == betInfo.jackpotInfos[0].jackpotId;\r\n      })\r\n      betInfo.jackpotInfos[0].jackpotAmount = jackpotData[1].jackpotAmount;\r\n    });\r\n    this.updateLabel();\r\n  }\r\n\r\n  private onBetInfos(data): void {\r\n    this.betInfos = Object.assign([], data);\r\n    this.updateLabel();\r\n  }\r\n\r\n  override onButtonClick(): void {\r\n    super.onButtonClick();\r\n    G1009EventManager.GetInstance().notify('PlaySFX', { sfxName: \"sfx_choosen_bet\", isLoop: false });\r\n\r\n  }\r\n\r\n  private updateLabel(): void {\r\n    let betInfo = this.betInfos[this.betIndex];\r\n    this.txtButtonText.string = G1009BetModel.GetInstance().GetBetPointByIndex(this.betIndex).toString();\r\n    this.txtJackpotText.string = G1009Util.Instance().NumberFormatWithoutCharacter(betInfo.jackpotInfos[0].jackpotAmount);\r\n  }\r\n}\r\n"]}