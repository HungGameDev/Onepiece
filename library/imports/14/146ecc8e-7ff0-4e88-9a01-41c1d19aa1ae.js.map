{"version":3,"sources":["assets/Script/UI/popup/aka-g1009-bet-button-v2.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AACA,qFAA8E;AAC9E,yFAAmE;AACnE,wEAAiE;AACjE,+DAAyD;AAEnD,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAAmD,yCAAmB;IAAtE;QAAA,qEAgCC;QA7BG,oBAAc,GAAa,IAAI,CAAC;;IA6BpC,CAAC;IA1BU,qCAAK,GAAZ;QACI,2CAAiB,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,UAAU,EAAE,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACjF,2CAAiB,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,eAAe,EAAE,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;IAC/F,CAAC;IAEO,+CAAe,GAAvB,UAAwB,KAAK;QAC/B,IAAI,GAAG,GAAG,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;QAChC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAA,OAAO;YAC5B,IAAI,WAAW,GAAQ,GAAG,CAAC,IAAI,CAAC,UAAC,IAAS;gBACzC,OAAO,IAAI,CAAC,CAAC,CAAC,CAAC,SAAS,IAAI,OAAO,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;YAC/D,CAAC,CAAC,CAAA;YACF,OAAO,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,aAAa,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC;QACtE,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,WAAW,EAAE,CAAC;IACpB,CAAC;IAEU,0CAAU,GAAlB,UAAmB,IAAI;QACzB,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;QACxC,IAAI,CAAC,WAAW,EAAE,CAAC;IACjB,CAAC;IAEO,2CAAW,GAAnB;QACI,IAAI,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC3C,IAAI,CAAC,aAAa,CAAC,MAAM,GAAG,mCAAa,CAAC,WAAW,EAAE,CAAC,kBAAkB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,QAAQ,EAAE,CAAC;QAC3G,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,oCAAS,CAAC,QAAQ,EAAE,CAAC,4BAA4B,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC;IACvH,CAAC;IA5BE;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;iEACa;IAHf,qBAAqB;QADzC,OAAO;OACa,qBAAqB,CAgCzC;IAAD,4BAAC;CAhCD,AAgCC,CAhCkD,8BAAmB,GAgCrE;kBAhCoB,qBAAqB","file":"","sourceRoot":"/","sourcesContent":["\nimport { G1009EventManager } from \"../../base/events/aka-g1009-event-manager\";\nimport G1009Util from \"../../base/Util/aka-g1009-number-converter\";\nimport { G1009BetModel } from \"../../models/aka-g1009-bet-model\";\nimport G1009BetButtonActor from \"./aka-g1009-bet-button\";\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class G1009BetButtonv2Actor extends G1009BetButtonActor {\n\n    @property(cc.Label)\n    txtJackpotText: cc.Label = null;\n\n    private betInfos: any;\n    public start(): void {\n        G1009EventManager.GetInstance().register('BetInfos', this.onBetInfos.bind(this));\n        G1009EventManager.GetInstance().register('JackpotUpdate', this.onJackpotUpdate.bind(this));\n    }\n \n    private onJackpotUpdate(datas): void {\n\t\tlet arr = Object.entries(datas);\n\t\tthis.betInfos.forEach(betInfo => {\n\t\t\tlet jackpotData: any = arr.find((data: any) => {\n\t\t\t\treturn data[1].jackpotId == betInfo.jackpotInfos[0].jackpotId;\n\t\t\t})\n\t\t\tbetInfo.jackpotInfos[0].jackpotAmount = jackpotData[1].jackpotAmount;\n\t\t});\n\t\tthis.updateLabel();\n\t}\n\n    private onBetInfos(data): void {\n\t\tthis.betInfos = Object.assign([], data);\n\t\tthis.updateLabel();\n    }\n    \n    private updateLabel(): void {\n        let betInfo = this.betInfos[this.betIndex];\n        this.txtButtonText.string = G1009BetModel.GetInstance().GetBetPointByIndex(this.betIndex).toString();\n\t\tthis.txtJackpotText.string = G1009Util.Instance().NumberFormatWithoutCharacter(betInfo.jackpotInfos[0].jackpotAmount);\n\t}\n}\n"]}