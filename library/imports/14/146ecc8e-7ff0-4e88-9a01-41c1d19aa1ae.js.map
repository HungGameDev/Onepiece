{"version":3,"sources":["assets\\Script\\UI\\popup\\Slot45-bet-button-v2.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AACA,+EAA4E;AAC5E,mFAAiE;AACjE,kEAA+D;AAC/D,yDAAuD;AAEjD,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAAoD,0CAAoB;IAAxE;QAAA,qEAsCC;QAnCC,oBAAc,GAAa,IAAI,CAAC;;IAmClC,CAAC;IAhCQ,sCAAK,GAAZ;QACE,yCAAkB,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,UAAU,EAAE,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QAClF,yCAAkB,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,eAAe,EAAE,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;IAC9F,CAAC;IAEO,gDAAe,GAAvB,UAAwB,KAAK;QAC3B,IAAI,GAAG,GAAG,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;QAChC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAA,OAAO;YAC3B,IAAI,WAAW,GAAQ,GAAG,CAAC,IAAI,CAAC,UAAC,IAAS;gBACxC,OAAO,IAAI,CAAC,CAAC,CAAC,CAAC,SAAS,IAAI,OAAO,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;YAChE,CAAC,CAAC,CAAA;YACF,OAAO,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,aAAa,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC;QACvE,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,WAAW,EAAE,CAAC;IACrB,CAAC;IAEO,2CAAU,GAAlB,UAAmB,IAAI;QACrB,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;QACxC,IAAI,CAAC,WAAW,EAAE,CAAC;IACrB,CAAC;IAEQ,8CAAa,GAAb;QACP,iBAAM,aAAa,WAAE,CAAC;QACtB,yCAAkB,CAAC,WAAW,EAAE,CAAC,MAAM,CAAC,SAAS,EAAE,EAAE,OAAO,EAAE,iBAAiB,EAAE,MAAM,EAAE,KAAK,EAAE,CAAC,CAAC;IAEpG,CAAC;IAEO,4CAAW,GAAnB;QACE,IAAI,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC3C,IAAI,CAAC,aAAa,CAAC,MAAM,GAAG,iCAAc,CAAC,WAAW,EAAE,CAAC,kBAAkB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,QAAQ,EAAE,CAAC;QACtG,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,iCAAU,CAAC,QAAQ,EAAE,CAAC,4BAA4B,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC;IACzH,CAAC;IAlCD;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;kEACa;IAHb,sBAAsB;QAD1C,OAAO;OACa,sBAAsB,CAsC1C;IAAD,6BAAC;CAtCD,AAsCC,CAtCmD,2BAAoB,GAsCvE;kBAtCoB,sBAAsB","file":"","sourceRoot":"/","sourcesContent":["\r\nimport { Slot45EventManager } from \"../../base/events/Slot45-event-manager\";\r\nimport Slot45Util from \"../../base/Util/Slot45-number-converter\";\r\nimport { Slot45BetModel } from \"../../models/Slot45-bet-model\";\r\nimport Slot45BetButtonActor from \"./Slot45-bet-button\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class Slot45BetButtonv2Actor extends Slot45BetButtonActor {\r\n\r\n  @property(cc.Label)\r\n  txtJackpotText: cc.Label = null;\r\n\r\n  private betInfos: any;\r\n  public start(): void {\r\n    Slot45EventManager.GetInstance().register('BetInfos', this.onBetInfos.bind(this));\r\n    Slot45EventManager.GetInstance().register('JackpotUpdate', this.onJackpotUpdate.bind(this));\r\n  }\r\n\r\n  private onJackpotUpdate(datas): void {\r\n    let arr = Object.entries(datas);\r\n    this.betInfos.forEach(betInfo => {\r\n      let jackpotData: any = arr.find((data: any) => {\r\n        return data[1].jackpotId == betInfo.jackpotInfos[0].jackpotId;\r\n      })\r\n      betInfo.jackpotInfos[0].jackpotAmount = jackpotData[1].jackpotAmount;\r\n    });\r\n    this.updateLabel();\r\n  }\r\n\r\n  private onBetInfos(data): void {\r\n    this.betInfos = Object.assign([], data);\r\n    this.updateLabel();\r\n  }\r\n\r\n  override onButtonClick(): void {\r\n    super.onButtonClick();\r\n    Slot45EventManager.GetInstance().notify('PlaySFX', { sfxName: \"sfx_choosen_bet\", isLoop: false });\r\n\r\n  }\r\n\r\n  private updateLabel(): void {\r\n    let betInfo = this.betInfos[this.betIndex];\r\n    this.txtButtonText.string = Slot45BetModel.GetInstance().GetBetPointByIndex(this.betIndex).toString();\r\n    this.txtJackpotText.string = Slot45Util.Instance().NumberFormatWithoutCharacter(betInfo.jackpotInfos[0].jackpotAmount);\r\n  }\r\n}\r\n"]}