{"version":3,"sources":["assets\\Script\\UI\\feature\\Slot45-feature-trigger-actor.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,+EAA4E;AAEtE,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAAkD,wCAAY;IAA9D;QAAA,qEAwDC;QArDU,aAAO,GAAY,IAAI,CAAC;;IAqDnC,CAAC;IAnDU,oCAAK,GAAf;QACC,yCAAkB,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,uBAAuB,EAAE,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACrG,yCAAkB,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,qBAAqB,EAAE,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;IAEzG,CAAC;IAES,+CAAgB,GAA1B;QACC,OAAO,KAAK,CAAC;IACd,CAAC;IAES,+CAAgB,GAA1B;QACC,IAAI,IAAI,CAAC,gBAAgB,EAAE,EAC3B;YACC,IAAI,CAAC,WAAW,EAAE,CAAC;SACnB;IACF,CAAC;IAES,oDAAqB,GAA/B;QACC,IAAI,IAAI,CAAC,gBAAgB,EAAE,EAC3B;YACC,IAAI,CAAC,WAAW,EAAE,CAAC;SACnB;IACF,CAAC;IAES,0CAAW,GAArB;QAAA,iBAaC;QAZA,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,EACxB;YACC,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC;iBACpB,EAAE,CAAC,GAAG,EAAE,EAAE,OAAO,EAAE,GAAG,EAAE,CAAC;iBACzB,IAAI,CAAC;gBACL,KAAI,CAAC,kBAAkB,EAAE,CAAC;gBAC1B,EAAE,CAAC,KAAK,CAAC,KAAI,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC;oBACnD,KAAI,CAAC,KAAK,EAAE,CAAC;gBACd,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC;YACZ,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC;SACZ;IAEF,CAAC;IAES,0CAAW,GAArB;IACA,CAAC;IAES,oCAAK,GAAf;QACC,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,EACxB;YACC,IAAI,CAAC,OAAO,CAAC,OAAO,GAAG,CAAC,CAAC;YACzB,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,KAAK,CAAC;SAC5B;IACF,CAAC;IAES,iDAAkB,GAA5B,cAAiC,CAAC;IApDlC;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;yDACgB;IAHd,oBAAoB;QADxC,OAAO;OACa,oBAAoB,CAwDxC;IAAD,2BAAC;CAxDD,AAwDC,CAxDiD,EAAE,CAAC,SAAS,GAwD7D;kBAxDoB,oBAAoB","file":"","sourceRoot":"/","sourcesContent":["import { Slot45EventManager } from \"../../base/events/Slot45-event-manager\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class Slot45FeatureTrigger extends cc.Component {\r\n\r\n\t@property(cc.Node)\r\n\tprotected content: cc.Node = null;\r\n\r\n\tprotected start(): void {\r\n\t\tSlot45EventManager.GetInstance().register(\"featuretriggerstarted\", this.onFeatureTrigger.bind(this));\r\n\t\tSlot45EventManager.GetInstance().register(\"featureWinCompleted\", this.onfeatureWinCompleted.bind(this));\r\n\r\n\t}\r\n\r\n\tprotected checkRuleTrigger(): boolean {\r\n\t\treturn false;\r\n\t}\r\n\r\n\tprotected onFeatureTrigger(): void {\r\n\t\tif (this.checkRuleTrigger())\r\n\t\t{\r\n\t\t\tthis.showContent();\r\n\t\t}\r\n\t}\r\n\r\n\tprotected onfeatureWinCompleted(): void {\r\n\t\tif (this.checkRuleTrigger())\r\n\t\t{\r\n\t\t\tthis.hideContent();\r\n\t\t}\r\n\t}\r\n\r\n\tprotected showContent() {\r\n\t\tif (this.content != null)\r\n\t\t{\r\n\t\t\tcc.tween(this.content)\r\n\t\t\t\t.to(0.5, { opacity: 255 })\r\n\t\t\t\t.call(() => {\r\n\t\t\t\t\tthis.notifyEnterFeature();\r\n\t\t\t\t\tcc.tween(this.content).to(0.5, { opacity: 0 }).call(() => {\r\n\t\t\t\t\t\tthis.reset();\r\n\t\t\t\t\t}).start();\r\n\t\t\t\t}).start();\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\tprotected hideContent() {\r\n\t}\r\n\r\n\tprotected reset() {\r\n\t\tif (this.content != null)\r\n\t\t{\r\n\t\t\tthis.content.opacity = 0;\r\n\t\t\tthis.content.active = false;\r\n\t\t}\r\n\t}\r\n\r\n\tprotected notifyEnterFeature() { }\r\n}"]}