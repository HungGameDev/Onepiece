{"version":3,"sources":["assets/Script/UI/present-win/aka-g1009-present-win-panel.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { SlottyParameter } from \"../../aka-g1009-game-config\";\nimport G1009GameController from \"../../base/controller/aka-g1009-game-controller\";\nimport { G1009EventManager } from \"../../base/events/aka-g1009-event-manager\";\nimport { G1009BalanceModel } from \"../../models/aka-g1009-balance-model\";\nimport { G1009BetModel } from \"../../models/aka-g1009-bet-model\";\nimport G1009WinCellItemActor from \"./aka-g1009-win-cell-item\";\n\nconst { ccclass, property } = cc._decorator;\nconst BIG_WIN_TRIGGER_POINT = 5;\n@ccclass\nexport default class G1009WinPanelActor extends cc.Component {\n\n\tItems: G1009WinCellItemActor[] = [];\n\tcellsResult: string[];\n\twinLine: G1009WinLineResult[];\n\tprivate jackpotWinLine: G1009WinLineResult;\n\tprivate triggerWinLine: G1009WinLineResult[];\n\tprivate allWinLine: G1009WinLineResult = null;\n\twinScatters: G1009WinLineResult[];\n\tfeatureDatas: [];\n\twinNumber: number;\n\tcount: number = 0;\n\tdelayTime: number = 1;\n\tdelayTransitionTime: number = 0.1;\n\tdelayedCount: number = 0;\n\tshowAllCount: number = 0;\n\tisFreespins: boolean = false;\n\ttotalFreeSpin: number = 0;\n\tisAlreadyChangeState: boolean = false;\n\tprivate winPoint: number = 0;\n\tprivate totalWinPoint: number = 0;\n\tprivate jackpotWinPoint: number = 0;\n\tprivate isBigwinTriggered: boolean = false;\n\tprivate expandWildIndices: number[] = [];\n\tprivate tweenPresentation: cc.Tween = null;\n\tprivate tweenPresentationWinLine: cc.Tween = null;\n\n\tprivate isCompleteOneLoop: boolean = false;\n\n\tprivate comboData = null;\n\n\tprotected onLoad(): void {\n\t\tthis.register();\n\t\tthis.Items = this.node.getComponentsInChildren(G1009WinCellItemActor);\n\t\tthis.Items.sort(function (a, b) { return a.cellIndex - b.cellIndex });\n\t\tthis.Items.forEach(item => item.Hide());\n\t}\n\n\tprivate register(): void {\n\t\tG1009EventManager.GetInstance().register(\"WinDataRespond\", this.onSetFinalReSource.bind(this));\n\t\tG1009EventManager.GetInstance().register(\"PresentWinStart\", this.onPresentWinStart.bind(this));\n\t\tG1009EventManager.GetInstance().register(\"SpinStarted\", this.onSpinStarted.bind(this));\n\t\tG1009EventManager.GetInstance().register(\"ExpandWildStarted\", this.onExpandWildStarted.bind(this));\n\t\tG1009EventManager.GetInstance().register(\"ExpandWildHide\", this.onExpandWildHide.bind(this));\n\t\tG1009EventManager.GetInstance().register(\"BigWinCompleted\", this.onBigWinCompleted.bind(this));\n\t\tG1009EventManager.GetInstance().register(\"JackpotCompleted\", this.onJackpotCompleted.bind(this));\n\t\tG1009EventManager.GetInstance().register(\"JackpotStarted\", this.onJackpotStarted.bind(this));\n\t\tG1009EventManager.GetInstance().register(\"EnterFreespins\", this.onEnterFreespins.bind(this));\n\t\tG1009EventManager.GetInstance().register(\"featureWinCompleted\", this.onFeatureWinCompleted.bind(this));\n\t\tG1009EventManager.GetInstance().register(\"resume\", this.onResume.bind(this));\n\t\tG1009EventManager.GetInstance().register(\"PresentAllWinComplete\", this.onPresentAllWinComplete.bind(this));\n\t\tG1009EventManager.GetInstance().register(\"BonusWinComplete\", this.reset.bind(this));\n\t\tG1009EventManager.GetInstance().register(\"EnterBonus\", this.onEnterBonus.bind(this));\n\t\tG1009EventManager.GetInstance().register(\"ExplodeCellsComplete\", this.onExplodeCellsComplete.bind(this));\n\n\t}\n\n\tprivate onResume(data: any) {\n\t\tif (data.isFreespins) {\n\t\t\tthis.isFreespins = true;\n\t\t\tthis.totalWinPoint = data.totalWinPoint;\n\t\t}\n\t}\n\n\tprivate onEnterFreespins(): void {\n\t\tthis.isFreespins = true;\n\t}\n\n\tprivate onFeatureWinCompleted(data): void {\n\n\t\tif (data && data.hitRule == \"bonus\") {\n\t\t\treturn;\n\t\t}\n\t\tthis.isFreespins = false;\n\t}\n\n\tprivate onSpinStarted(): void {\n\t\tthis.isCompleteOneLoop = false;\n\t\tthis.expandWildIndices = [];\n\t\tthis.reset();\n\t}\n\n\tprivate onPresentWinStart(): void {\n\t\tsetTimeout(() => {\n\t\t\tthis.Items.forEach(item => item.Show());\n\t\t\tthis.isAlreadyChangeState = false;\n\t\t\tif (this.checkJackpotTriggered()) {\n\t\t\t\tG1009EventManager.GetInstance().notify(\"JackpotTriggered\");\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.presentAllWin();\n\t\t\t}\n\t\t}, 100);\n\t}\n\n\tonExplodeCellsComplete() {\n\t\tthis.updateDataWinPanelByComboData();\n\t\t// this.isBigwinTriggered = (this.checkBigWinTriggered() && !G1009GameController.GetInstance().CheckBonusPointTrigger() && !this.checkJackpotTriggered());\n\t\tthis.isBigwinTriggered = (this.checkBigWinTriggered() && !G1009GameController.GetInstance().CheckBonusPointTrigger() && this.jackpotWinPoint <= 0);\n\t\tvar hasCombo = G1009GameController.GetInstance().CheckComboWinPresentation();\n\t\tif (hasCombo) {\n\t\t\tthis.onPresentWinStart();\n\t\t}\n\t\telse if (this.isBigwinTriggered) {\n\t\t\tthis.startBigWin();\n\t\t}\n\t\telse {\n\t\t\tthis.transitionNextState();\n\t\t}\n\t}\n\n\tonEnterBonus(dataWinBonus) {\n\t\tvar winPoint = 0;\n\t\tdataWinBonus.forEach(data => {\n\t\t\twinPoint += data.winPoint;\n\t\t});\n\t\tif (winPoint > 0) {\n\t\t\tthis.totalWinPoint += winPoint;\n\t\t\tG1009EventManager.GetInstance().notify(\"IncreaseTotalWin\", winPoint);\n\t\t}\n\t}\n\n\tupdateDataWinPanelByComboData() {\n\t\tthis.cellsResult = this.comboData.Cells;\n\t\tthis.winLine = this.comboData.WinLines;\n\t\tthis.allWinLine = this.comboData.allWinLine;\n\t\tthis.winPoint = this.comboData.winPoint;\n\t\tfor (let index = 0; index < this.cellsResult.length; index++) {\n\t\t\tthis.Items[index].Hide();\n\t\t\tthis.Items[index].SetItem(this.cellsResult[index]);\n\t\t}\n\t}\n\n\tprivate checkBigWinTriggered(): boolean {\n\t\treturn this.totalWinPoint / G1009BetModel.GetInstance().GetTotalBetPoint() > BIG_WIN_TRIGGER_POINT;\n\t}\n\n\tprivate checkJackpotTriggered(): boolean {\n\t\tvar haveWinLineJackpot = false;\n\t\tfor (let index = 0; index < this.winLine.length; index++) {\n\t\t\tconst winLineData = this.winLine[index];\n\t\t\tif (winLineData.GetWinSymbol() == \"Wild\" && winLineData.GetWinLine().length == 5) {\n\t\t\t\thaveWinLineJackpot = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn this.jackpotWinPoint > 0 && haveWinLineJackpot;\n\t}\n\n\tprotected presentAllWin(): void {\n\t\tconst winData = this.allWinLine;\n\t\tthis.playSoundSFX(winData.CheckIsAllWin());\n\t\tG1009EventManager.GetInstance().notify(\"NotificationWinMessage\", {\n\t\t\tisAllWin: winData.CheckIsAllWin(),\n\t\t\tWinPoint: winData.GetWinPoint(),\n\t\t\tWinSymbol: winData.GetWinSymbol(),\n\t\t\tWinNumber: winData.GetWinNumber()\n\t\t});\n\n\t\tif (this.winPoint > 0) {\n\t\t\tthis.totalWinPoint += this.winPoint;\n\t\t\tG1009EventManager.GetInstance().notify(\"IncreaseTotalWin\", this.winPoint);\n\t\t}\n\n\t\tthis.showWinSymbols(this.allWinLine.GetWinLine());\n\t\tthis.OnShowLine(this.allWinLine.GetWinNumber());\n\t\tthis.count = 0;\n\t\tthis.tweenPresentation = cc.tween(this.node)\n\t\t\t.delay(this.delayTime)\n\t\t\t.call(() => {\n\t\t\t\tif (G1009GameController.GetInstance().CheckComboWinPresentation()) {\n\t\t\t\t\tthis.comboData = G1009GameController.GetInstance().GetComboData();\n\t\t\t\t\tthis.presentWinCombo();\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.sequenceWinPresentation();\n\t\t\t\t\tthis.transitionNextState();\n\t\t\t\t}\n\t\t\t})\n\t\t\t.start();\n\t}\n\n\tprivate presentWinCombo() {\n\t\tthis.reset();\n\t\tG1009EventManager.GetInstance().notify(\"StartPresentWinCombo\", this.comboData);\n\t\tG1009EventManager.GetInstance().notify('PlaySFX', { sfxName: \"sfx_explosive\", isLoop: false });\n\t}\n\n\tprivate startBigWin(): void {\n\t\tif (this.isBigwinTriggered) {\n\t\t\tthis.Items.forEach(i => i.ShowStaticFrame());\n\t\t\tG1009EventManager.GetInstance().notify(\"BigWinStarted\", this.totalWinPoint);\n\t\t} else {\n\t\t\tthis.onBigWinCompleted();\n\t\t}\n\t}\n\n\tprivate onBigWinCompleted(): void {\n\t\tthis.Items.forEach(i => i.HideStaticFrame());\n\t\tvar delay = 0;\n\t\tif (this.isBigwinTriggered) {\n\t\t\tdelay = 0.5;\n\t\t}\n\t\tsetTimeout(() => {\n\t\t\tif (this.checkJackpotTriggered()) {\n\t\t\t\tconst winData = this.jackpotWinLine[0];\n\t\t\t\tif (winData != undefined && winData != null) {\n\t\t\t\t\tthis.playSoundSFX(false);\n\t\t\t\t\tG1009EventManager.GetInstance().notify(\"NotificationWinMessage\", {\n\t\t\t\t\t\tisAllWin: winData.CheckIsAllWin(),\n\t\t\t\t\t\tWinPoint: winData.GetWinPoint(),\n\t\t\t\t\t\tWinSymbol: winData.GetWinSymbol(),\n\t\t\t\t\t\tWinNumber: winData.GetWinNumber()\n\t\t\t\t\t});\n\t\t\t\t\tthis.showTriggerWinSymbols(winData.GetWinLine());\n\t\t\t\t\tthis.OnShowLine(winData.GetWinNumber());\n\t\t\t\t\tthis.tweenPresentation = cc.tween(this.node)\n\t\t\t\t\t\t.delay(this.delayTransitionTime)\n\t\t\t\t\t\t.call(() => {\n\t\t\t\t\t\t\tthis.transitionNextState();\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.start();\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t}\n\t\t\telse if (G1009GameController.GetInstance().CheckBonusFeatureTrigger()) {\n\t\t\t\tconst winData = this.triggerWinLine[0];\n\t\t\t\tif (winData != undefined && winData != null) {\n\t\t\t\t\tthis.playSoundSFX(false);\n\t\t\t\t\tG1009EventManager.GetInstance().notify(\"NotificationWinMessage\", {\n\t\t\t\t\t\tisAllWin: winData.CheckIsAllWin(),\n\t\t\t\t\t\tWinPoint: winData.GetWinPoint(),\n\t\t\t\t\t\tWinSymbol: winData.GetWinSymbol(),\n\t\t\t\t\t\tWinNumber: winData.GetWinNumber()\n\t\t\t\t\t});\n\t\t\t\t\tthis.showTriggerWinSymbols(winData.GetWinLine());\n\t\t\t\t\tG1009EventManager.GetInstance().notify(\"showTriggerWinSymbols\");\n\t\t\t\t\tthis.OnShowLine(winData.GetWinNumber());\n\t\t\t\t\tthis.tweenPresentation = cc.tween(this.node)\n\t\t\t\t\t\t.delay(this.delayTransitionTime)\n\t\t\t\t\t\t.call(() => {\n\t\t\t\t\t\t\tthis.transitionNextState();\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.start();\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\tthis.count = 0;\n\t\t\t\tthis.sequenceWinPresentation();\n\t\t\t}\n\t\t\tthis.transitionNextState();\n\t\t}, delay);\n\t}\n\n\tprivate sequenceWinPresentation(): void {\n\t\tif (!(this.winLine.length > 0)) {\n\t\t\treturn;\n\t\t}\n\t\tif (this.count >= this.winLine.length) {\n\t\t\tthis.count = 0;\n\t\t\tthis.isCompleteOneLoop = true;\n\t\t}\n\t\tconst winIndex = this.count;\n\t\tconst winData = this.winLine[this.count];\n\t\tif (!this.isCompleteOneLoop)\n\t\t\tthis.playSoundSFX(winData.CheckIsAllWin());\n\t\tG1009EventManager.GetInstance().notify(\"NotificationWinMessage\", {\n\t\t\tisAllWin: winData.CheckIsAllWin(),\n\t\t\tWinPoint: winData.GetWinPoint(),\n\t\t\tWinSymbol: winData.GetWinSymbol(),\n\t\t\tWinNumber: winData.GetWinNumber()\n\t\t});\n\t\tthis.showWinSymbols(this.winLine[winIndex].GetWinLine());\n\t\tthis.OnShowLine(this.winLine[winIndex].GetWinNumber());\n\t\tthis.count++;\n\t\tthis.tweenPresentationWinLine = cc.tween(this.node)\n\t\t\t.delay(this.delayTime)\n\t\t\t.call(() => {\n\t\t\t\tthis.sequenceWinPresentation();\n\t\t\t})\n\t\t\t.start();\n\t}\n\n\tprivate onJackpotStarted(): void {\n\t\tthis.showWinSymbols(this.jackpotWinLine.GetWinLine());\n\t}\n\n\tprivate onJackpotCompleted(): void {\n\t\tthis.presentAllWin()\n\t}\n\n\tprivate onSetFinalReSource(finalResult: any): void {\n\t\tlet _finalResult = Object.assign({}, finalResult);\n\t\tthis.cellsResult = _finalResult.Cells;\n\t\tthis.winLine = _finalResult.WinLines;\n\t\tthis.allWinLine = _finalResult.allWinLine;\n\t\tthis.jackpotWinLine = _finalResult.jackpotWinLine;\n\t\tthis.triggerWinLine = _finalResult.WinScatters.concat(_finalResult.WinBonus);\n\t\tthis.featureDatas = _finalResult.featureDatas;\n\t\tthis.winPoint = finalResult.winPoint;\n\t\tthis.jackpotWinPoint = finalResult.jackpotWinPoint;\n\t\tfor (let index = 0; index < this.cellsResult.length; index++) {\n\t\t\tthis.Items[index].Hide();\n\t\t\tthis.Items[index].SetItem(this.cellsResult[index]);\n\t\t}\n\t}\n\n\tprivate playSoundSFX(isAllWin: boolean): void {\n\t\tif (!isAllWin && !G1009GameController.GetInstance().CheckBonusFeatureTrigger()) {\n\t\t\tG1009EventManager.GetInstance().notify('PlaySFX', { sfxName: 'sfx_symbolwin', isLoop: false });\n\t\t}\n\t}\n\n\tprivate transitionNextState(): void {\n\t\tthis.totalWinPoint = G1009GameController.GetInstance().GetTotalWinPoint();\n\t\tif (!this.isAlreadyChangeState) {\n\t\t\tthis.isAlreadyChangeState = true;\n\t\t\t// if (this.checkJackpotTriggered()) {\n\t\t\t// \tG1009EventManager.GetInstance().notify(\"JackpotTriggered\");\n\t\t\t// \treturn;\n\t\t\t// }\n\t\t\tif (G1009GameController.GetInstance().CheckBonusFeatureTrigger()) {\n\t\t\t\tvar dataFeature = G1009GameController.GetInstance().GetFeatureWinData();\n\t\t\t\tG1009EventManager.GetInstance().notify(\"FeatureTrigger\", dataFeature);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (G1009GameController.GetInstance().CheckFreespinContinue()) {\n\t\t\t\tthis.reset();\n\t\t\t\tG1009EventManager.GetInstance().notify(\"Spin\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (G1009GameController.GetInstance().CheckFreespinEnd()) {\n\t\t\t\tthis.reset();\n\t\t\t\tthis.totalWinPoint = 0;\n\t\t\t\tG1009EventManager.GetInstance().notify(\"FeatureComplete\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.totalWinPoint = 0;\n\t\t\tconsole.warn('transitionNextState:, ', this.totalWinPoint);\n\t\t\tG1009EventManager.GetInstance().notify(\"EndRound\");\n\t\t}\n\t}\n\n\tprivate OnShowLine(line: number[]): void {\n\t\tG1009EventManager.GetInstance().notify(\"ShowLine\", line);\n\t}\n\n\tprivate OnHideAllLine(): void {\n\t\tG1009EventManager.GetInstance().notify(\"ResetAllLine\");\n\t}\n\n\tprivate showWinSymbols(winLine: number[]) {\n\t\tG1009EventManager.GetInstance().notify(\"ShowWinCells\", winLine);\n\t\tfor (let index = 0; index < winLine.length; index++) {\n\t\t\tthis.Items.find(item => item.cellIndex == winLine[index]).PlayWinAnimation();\n\t\t}\n\t}\n\n\tprivate showTriggerWinSymbols(winLine: number[]) {\n\t\tfor (let index = 0; index < winLine.length; index++) {\n\t\t\tthis.Items.find(item => item.cellIndex == winLine[index]).PlayWinTrigger();\n\t\t}\n\t}\n\n\tprivate onExpandWildStarted(expandWildIndices: any) {\n\t\tthis.expandWildIndices = Object.assign([], expandWildIndices);\n\t\tthis.expandWildIndices.forEach(index => {\n\t\t\tlet reelIndex = SlottyParameter.GetReelIndex(index);\n\t\t\tthis.Items[SlottyParameter.GetCellIndex(reelIndex, 0)].node.active = false;\n\t\t\tthis.Items[SlottyParameter.GetCellIndex(reelIndex, 1)].node.active = false;\n\t\t\tthis.Items[SlottyParameter.GetCellIndex(reelIndex, 2)].node.active = false;\n\t\t})\n\t}\n\n\tprivate onExpandWildHide() {\n\t\tthis.Items.forEach(item => item.node.active = true);\n\t}\n\n\tprivate reset(): void {\n\t\tthis.tweenPresentation && this.tweenPresentation.stop();\n\t\tthis.tweenPresentationWinLine && this.tweenPresentationWinLine.stop();\n\t\tthis.isBigwinTriggered = false;\n\t\tthis.cellsResult = [];\n\t\tthis.Items.forEach(item => {\n\t\t\titem.Hide();\n\t\t\titem.Reset();\n\t\t\titem.node.active = true;\n\t\t});\n\t\tthis.delayedCount = 0;\n\t\tthis.count = 0;\n\t\tthis.OnHideAllLine();\n\t}\n\n\tprivate onPresentAllWinComplete(): void {\n\t\t// this.Items.forEach(item => {\n\t\t// \titem.node.active = false;\n\t\t// \titem.node.opacity = 0;\n\t\t// });\n\t\t// this.OnHideAllLine();\n\t}\n}\nexport class G1009WinLineResult {\n\tprivate winLine: number[];\n\tprivate winPoint: number;\n\tprivate winNumber: number[];\n\tprivate winSymbol: string;\n\tprivate isAllWin: boolean;\n\tprivate isTriggerWinLine: boolean;\n\n\tpublic constructor(winline: number[], winPoint: number, winNumber: number[], winSymbol: string = \"\", isAllWin: boolean = false, isTriggerWinLine: boolean = false) {\n\t\tthis.winLine = winline;\n\t\tthis.winPoint = winPoint;\n\t\tthis.winNumber = winNumber;\n\t\tthis.winSymbol = winSymbol;\n\t\tthis.isAllWin = isAllWin;\n\t\tthis.isTriggerWinLine = isTriggerWinLine;\n\t}\n\n\tpublic GetWinLine(): number[] {\n\t\treturn this.winLine;\n\t}\n\n\tpublic GetWinNumber(): number[] {\n\t\treturn this.winNumber;\n\t}\n\n\tpublic GetWinSymbol(): string {\n\t\treturn this.winSymbol;\n\t}\n\n\tpublic GetWinPoint(): number {\n\t\treturn this.winPoint;\n\t}\n\n\tpublic CheckIsAllWin(): boolean {\n\t\treturn this.isAllWin;\n\t}\n\n\tpublic CheckIsTriggerWinLine(): boolean {\n\t\treturn this.isTriggerWinLine;\n\t}\n\n\tpublic SetWinSymbol(winSymbol: string): void {\n\t\tthis.winSymbol = winSymbol;\n\t}\n}\n"]}