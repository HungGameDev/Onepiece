{"version":3,"sources":["assets\\Script\\UI\\present-win\\Slot45-win-cell-item.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { NEAR_WIN_SYMBOL } from \"../../Slot45-game-config\";\r\nimport { Slot45AnimationProviderManager } from \"../../base/animation/Slot45-animation-provider\";\r\nimport { Slot45SpriteProviderManagerActor } from \"../provider/Slot45-sprite-frame-provider\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n@ccclass\r\nexport default class Slot45WinCellItemActor extends cc.Component {\r\n\r\n\t@property()\r\n\tcellIndex: number = -1;\r\n\t@property\r\n\tprivate dimColor: cc.Color = cc.Color.WHITE;\r\n\r\n\tprivate skeleton: sp.Skeleton = null;\r\n\tprivate sprite: cc.Sprite = null;\r\n\tprivate SymbolFormat: string = 'symbol_%s';\r\n\tprivate itemID: string = 'a';\r\n\r\n\tprotected onLoad(): void {\r\n\t\tthis.sprite = this.node.getComponentInChildren(cc.Sprite);\r\n\t\tthis.sprite.node.active = false;\r\n\t\tthis.skeleton = this.node.getComponentInChildren(sp.Skeleton);\r\n\t}\r\n\r\n\tprivate setNormalFrame(): void {\r\n\t\tif (this.itemID == \"Blank\" || this.itemID == \"Reactor\")\r\n\t\t{\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.skeleton.node.active = true;\r\n\t\tlet data = Slot45AnimationProviderManager.Instance().GetAnimation(cc.js.formatStr(this.SymbolFormat, this.itemID));\r\n\t\tthis.skeleton.skeletonData = (data);\r\n\t\tthis.skeleton.setAnimation(0, \"animation\", false);\r\n\t}\r\n\r\n\tprivate setOldFrame(): void {\r\n\t\tif (this.itemID == \"Blank\" || this.itemID == \"Reactor\")\r\n\t\t{\r\n\t\t\tthis.skeleton.node.active = false;\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tlet data = Slot45AnimationProviderManager.Instance().GetAnimation(cc.js.formatStr(this.SymbolFormat, this.itemID));\r\n\t\tthis.skeleton.skeletonData = (data);\r\n\t\tthis.skeleton.setAnimation(0, \"animation\", false);\r\n\t}\r\n\r\n\tpublic CheckValid(): boolean {\r\n\t\treturn this.sprite != null;\r\n\t}\r\n\r\n\tpublic GetItemID(): string {\r\n\t\treturn this.itemID;\r\n\t}\r\n\r\n\tpublic SetOldItem(item: string): void {\r\n\t\tif (item != null)\r\n\t\t{\r\n\t\t\tthis.itemID = item;\r\n\t\t\tthis.setOldFrame();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic SetItem(item: string): void {\r\n\t\tif (item != null)\r\n\t\t{\r\n\t\t\tthis.itemID = item;\r\n\t\t\tthis.setNormalFrame();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic PlayWinAnimation(): void {\r\n\t\tthis.Reset();\r\n\t\tif (this.itemID == \"Blank\" || this.itemID == \"Reactor\")\r\n\t\t{\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (NEAR_WIN_SYMBOL.includes(this.itemID))\r\n\t\t{\r\n\t\t\tthis.skeleton.setAnimation(0, \"Win_Loop\", false);\r\n\t\t} else\r\n\t\t{\r\n\t\t\tthis.skeleton.setAnimation(0, \"Win\", false);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic PlayWinTrigger(): void {\r\n\t\tthis.Reset();\r\n\t\tif (this.itemID == \"Blank\" || this.itemID == \"Reactor\")\r\n\t\t{\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tlet track = this.skeleton.setAnimation(0, \"Win_Appear\", false);\r\n\t\tthis.skeleton.setTrackCompleteListener(track, () => {\r\n\t\t\tthis.skeleton.setAnimation(0, \"Win_Loop\", true);\r\n\t\t});\r\n\t}\r\n\r\n\tpublic SetDim(): void {\r\n\t\tthis.skeleton.node.color = this.dimColor;\r\n\t\tthis.sprite.node.color = this.dimColor;\r\n\t\tif (this.itemID == \"Blank\" || this.itemID == \"Reactor\")\r\n\t\t{\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (this.skeleton)\r\n\t\t{\r\n\t\t\tthis.skeleton.clearTrack(0);\r\n\t\t\tthis.skeleton.setBonesToSetupPose();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic Reset(): void {\r\n\t\tthis.skeleton.node.color = cc.Color.WHITE;\r\n\t\tthis.sprite.node.color = cc.Color.WHITE;\r\n\t}\r\n\r\n\tpublic Hide(): void {\r\n\t\tthis.node.opacity = 0;\r\n\t\tif (this.itemID == \"Blank\" || this.itemID == \"Reactor\")\r\n\t\t{\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (this.skeleton)\r\n\t\t{\r\n\t\t\tthis.skeleton.clearTrack(0);\r\n\t\t\tthis.skeleton.setBonesToSetupPose();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic Show(): void {\r\n\t\tthis.node.opacity = 255;\r\n\t}\r\n\r\n\tpublic ShowJackpotWin(): void {\r\n\t\tthis.node.opacity = 255;\r\n\t\tif (this.itemID == \"Core\")\r\n\t\t{\r\n\t\t\tlet track = this.skeleton.setAnimation(0, \"Win_Appear\", false);\r\n\t\t\tthis.skeleton.setTrackCompleteListener(track, () => {\r\n\t\t\t\tthis.skeleton.setAnimation(0, \"Win_Loop\", true);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tpublic ShowStaticFrame(): void {\r\n\t\tif (this.itemID == \"Blank\" || this.itemID == \"Reactor\")\r\n\t\t{\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t// this.skeleton.node.active = false;\r\n\t\tthis.sprite.node.color = this.dimColor;\r\n\t\t// this.sprite.node.active = true;\r\n\t\tthis.sprite.spriteFrame = Slot45SpriteProviderManagerActor.Instance().GetFrame(cc.js.formatStr(this.SymbolFormat, this.itemID));\r\n\t}\r\n\r\n\tpublic HideStaticFrame(): void {\r\n\t\tif (this.itemID == \"Blank\" || this.itemID == \"Reactor\")\r\n\t\t{\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.skeleton.node.active = true;\r\n\t\tthis.sprite.node.active = false;\r\n\t}\r\n}"]}