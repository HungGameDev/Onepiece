{"version":3,"sources":["assets\\Script\\UI\\spin-panel\\Slot45-cell-item.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { Slot45AnimationProviderManager } from \"../../base/animation/Slot45-animation-provider\";\r\nimport { Slot45SpriteProviderManagerActor } from \"../provider/Slot45-sprite-frame-provider\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class Slot45CellItemActor extends cc.Component {\r\n\r\n\t@property\r\n\tcellIndex: number = -1;\r\n\r\n\t@property(cc.Sprite)\r\n\tsprite: cc.Sprite = null;\r\n\r\n\t@property(sp.Skeleton)\r\n\tprivate skeleton: sp.Skeleton = null;\r\n\r\n\t@property\r\n\tdimColor: cc.Color = cc.Color.WHITE;\r\n\r\n\tisFreespins: boolean = false;\r\n\titemID: string = 'a';\r\n\tSymbolFormat: string = 'Symbol_%s';\r\n\tSpinSymbolFormat: string = 'symbol_%s';\r\n\r\n\tprivate setSpinFrame(): void {\r\n\t\tthis.skeleton.node.active = false;\r\n\t\tthis.sprite.node.active = true;\r\n\t\tlet frame = Slot45SpriteProviderManagerActor.Instance().GetFrame(cc.js.formatStr(this.SpinSymbolFormat, this.itemID));\r\n\t\tthis.sprite.spriteFrame = frame;\r\n\t}\r\n\r\n\tprivate setNormalFrame(): void {\r\n\t\tthis.skeleton.node.active = true;\r\n\t\tthis.sprite.node.active = false;\r\n\t\tlet data = Slot45AnimationProviderManager.Instance().GetAnimation(cc.js.formatStr(this.SymbolFormat, this.itemID));\r\n\r\n\t\tif (data)\r\n\t\t{\r\n\t\t\tthis.skeleton.node.active = true;\r\n\t\t\tthis.sprite.node.active = false;\r\n\t\t\tthis.skeleton.skeletonData = (data);\r\n\t\t\tthis.skeleton.setAnimation(0, \"animation\", true);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tthis.skeleton.node.active = false;\r\n\t\t\tthis.sprite.node.active = true;\r\n\t\t\tlet frame = Slot45SpriteProviderManagerActor.Instance().GetFrame(cc.js.formatStr(this.SymbolFormat, this.itemID));\r\n\t\t\tthis.sprite.spriteFrame = frame;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate setOldFrame(): void {\r\n\t\tlet data = Slot45AnimationProviderManager.Instance().GetAnimation(cc.js.formatStr(this.SymbolFormat, this.itemID));\r\n\t\tif (data)\r\n\t\t{\r\n\t\t\tthis.skeleton.node.active = true;\r\n\t\t\tthis.sprite.node.active = false;\r\n\t\t\tthis.skeleton.skeletonData = (data);\r\n\t\t\tthis.skeleton.setAnimation(0, \"animation\", true);\r\n\t\t}\r\n\t\telse\r\n\t\t{\t\t\t\r\n\t\t\tthis.skeleton.node.active = false;\r\n\t\t\tthis.sprite.node.active = true;\r\n\t\t\tlet frame = Slot45SpriteProviderManagerActor.Instance().GetFrame(cc.js.formatStr(this.SymbolFormat, this.itemID));\r\n\t\t\tthis.sprite.spriteFrame = frame;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic CheckValid(): boolean {\r\n\t\treturn this.sprite.spriteFrame != null;\r\n\t}\r\n\r\n\tpublic GetCellIndex(): number {\r\n\t\treturn this.cellIndex;\r\n\t}\r\n\r\n\tpublic GetItemID(): string {\r\n\t\treturn this.itemID;\r\n\t}\r\n\r\n\tpublic Enable(): void {\r\n\t\tthis.sprite.enabled = true;\r\n\t}\r\n\r\n\tpublic Disable(): void {\r\n\t\tthis.sprite.enabled = false;\r\n\t}\r\n\r\n\tpublic SetItem(item: string): void {\r\n\t\tif (item != null)\r\n\t\t{\r\n\t\t\tthis.itemID = item;\r\n\t\t\tthis.setNormalFrame();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic SetOldItem(item: string): void {\r\n\t\tif (item != null)\r\n\t\t{\r\n\t\t\tthis.itemID = item;\r\n\t\t\tthis.setOldFrame();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic SetScrollItem(item: string): void {\r\n\t\tif (item != null)\r\n\t\t{\r\n\t\t\tthis.itemID = item;\r\n\t\t\tthis.setSpinFrame();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic StartSpin(): void {\r\n\t\tthis.SetScrollItem(this.itemID);\r\n\t}\r\n\r\n\tpublic StopSpin(): void {\r\n\t\tthis.SetItem(this.itemID);\r\n\t}\r\n\r\n\tpublic Reset(): void {\r\n\t\t// this.Enable();\r\n\t}\r\n\r\n\tpublic SetCellIndex(_cellIndex: number): void {\r\n\t\tthis.cellIndex = _cellIndex;\r\n\t}\r\n}"]}