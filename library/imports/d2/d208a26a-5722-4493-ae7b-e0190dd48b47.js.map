{"version":3,"sources":["assets\\Script\\UI\\popup\\Slot45-bet-button.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,+EAA2E;AAC3E,0EAAsE;AACtE,kEAA8D;AAC9D,iDAA+C;AAEzC,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAAiD,uCAAgB;IAAjE;QAAA,qEAmCC;QAhCG,cAAQ,GAAW,CAAC,CAAC,CAAC;QAEtB,mBAAa,GAAa,IAAI,CAAC;;IA8BnC,CAAC;IA5BU,mCAAK,GAAZ;QACI,wCAAiB,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,cAAc,EAAE,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QAC9F,wCAAiB,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,gBAAgB,EAAE,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACzF,wCAAiB,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACvF,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;IACzB,CAAC;IAES,iDAAmB,GAA7B;QAEI,IAAI,CAAC,aAAa,CAAC,MAAM,GAAG,gCAAa,CAAC,WAAW,EAAE,CAAC,kBAAkB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,QAAQ,EAAE,CAAC;QACrG,IAAI,CAAC,MAAM,CAAC,YAAY,GAAG,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;IACzE,CAAC;IAEQ,2CAAa,GAAb;QACL,IAAI,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,gCAAa,CAAC,WAAW,EAAE,CAAC,oBAAoB,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,gCAAa,CAAC,WAAW,EAAE,CAAC,oBAAoB,EAAE,EACtK;YACI,wCAAiB,CAAC,WAAW,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;SACzE;IAEL,CAAC;IAEO,mDAAqB,GAA7B,UAA8B,KAAa;QACvC,OAAO,gCAAa,CAAC,WAAW,EAAE,CAAC,2BAA2B,CAAC,KAAK,CAAC,IAAI,wCAAiB,CAAC,WAAW,EAAE,CAAC,UAAU,EAAE,CAAC;IAC1H,CAAC;IAEO,0CAAY,GAApB,UAAqB,KAAa;QAC1B,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,IAAI,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,KAAK,CAAC;IAChG,CAAC;IA/BD;QADC,QAAQ;yDACa;IAEtB;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;8DACY;IALd,mBAAmB;QADvC,OAAO;OACa,mBAAmB,CAmCvC;IAAD,0BAAC;CAnCD,AAmCC,CAnCgD,uBAAgB,GAmChE;kBAnCoB,mBAAmB","file":"","sourceRoot":"/","sourcesContent":["import { G1009EventManager } from \"../../base/events/Slot45-event-manager\";\r\nimport { G1009BalanceModel } from \"../../models/Slot45-balance-model\";\r\nimport { G1009BetModel } from \"../../models/Slot45-bet-model\";\r\nimport G1009ButtonActor from \"./Slot45-button\";\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class G1009BetButtonActor extends G1009ButtonActor {\r\n\r\n    @property\r\n    betIndex: number = -1;\r\n    @property(cc.Label)\r\n    txtButtonText: cc.Label = null;\r\n    \r\n    public start(): void {\r\n        G1009EventManager.GetInstance().register(\"ShowBetPanel\", this.SetButtonTextValues.bind(this));\r\n        G1009EventManager.GetInstance().register(\"SetBetIncrease\", this.SetTextColor.bind(this));\r\n        G1009EventManager.GetInstance().register(this.EventName, this.SetTextColor.bind(this));\r\n        this.SetTextColor(0);\r\n    }\r\n\r\n    protected SetButtonTextValues(): void {\r\n\r\n        this.txtButtonText.string = G1009BetModel.GetInstance().GetBetPointByIndex(this.betIndex).toString();\r\n        this.button.interactable = this.validatorButtonSetBet(this.betIndex);\r\n    }\r\n\r\n    override onButtonClick(): void {\r\n        if (this.validatorButtonSetBet(this.betIndex) && G1009BetModel.GetInstance().GetBetPerLinebyIndex(this.betIndex) != G1009BetModel.GetInstance().GetCurrentBetPerLine())\r\n        {\r\n            G1009EventManager.GetInstance().notify(this.EventName, this.betIndex);\r\n        }\r\n\t\r\n    }\r\n    \r\n    private validatorButtonSetBet(index: number): boolean {\r\n        return G1009BetModel.GetInstance().GetNextTotalBetPointbyIndex(index) <= G1009BalanceModel.GetInstance().GetBalance();\r\n    }\r\n\r\n    private SetTextColor(index: number): void{      \r\n            this.txtButtonText.node.color = this.betIndex != index ? cc.Color.GRAY : cc.Color.WHITE;\r\n    }\r\n}\r\n"]}