{"version":3,"sources":["assets\\Script\\UI\\popup\\Slot45-bet-button.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,+EAA4E;AAC5E,0EAAuE;AACvE,kEAA+D;AAC/D,iDAAgD;AAE1C,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAAkD,wCAAiB;IAAnE;QAAA,qEAmCC;QAhCG,cAAQ,GAAW,CAAC,CAAC,CAAC;QAEtB,mBAAa,GAAa,IAAI,CAAC;;IA8BnC,CAAC;IA5BU,oCAAK,GAAZ;QACI,yCAAkB,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,cAAc,EAAE,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QAC/F,yCAAkB,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,gBAAgB,EAAE,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QAC1F,yCAAkB,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACxF,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;IACzB,CAAC;IAES,kDAAmB,GAA7B;QAEI,IAAI,CAAC,aAAa,CAAC,MAAM,GAAG,iCAAc,CAAC,WAAW,EAAE,CAAC,kBAAkB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,QAAQ,EAAE,CAAC;QACtG,IAAI,CAAC,MAAM,CAAC,YAAY,GAAG,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;IACzE,CAAC;IAEQ,4CAAa,GAAb;QACL,IAAI,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,iCAAc,CAAC,WAAW,EAAE,CAAC,oBAAoB,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,iCAAc,CAAC,WAAW,EAAE,CAAC,oBAAoB,EAAE,EACxK;YACI,yCAAkB,CAAC,WAAW,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;SAC1E;IAEL,CAAC;IAEO,oDAAqB,GAA7B,UAA8B,KAAa;QACvC,OAAO,iCAAc,CAAC,WAAW,EAAE,CAAC,2BAA2B,CAAC,KAAK,CAAC,IAAI,yCAAkB,CAAC,WAAW,EAAE,CAAC,UAAU,EAAE,CAAC;IAC5H,CAAC;IAEO,2CAAY,GAApB,UAAqB,KAAa;QAC1B,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,IAAI,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,KAAK,CAAC;IAChG,CAAC;IA/BD;QADC,QAAQ;0DACa;IAEtB;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;+DACY;IALd,oBAAoB;QADxC,OAAO;OACa,oBAAoB,CAmCxC;IAAD,2BAAC;CAnCD,AAmCC,CAnCiD,uBAAiB,GAmClE;kBAnCoB,oBAAoB","file":"","sourceRoot":"/","sourcesContent":["import { Slot45EventManager } from \"../../base/events/Slot45-event-manager\";\r\nimport { Slot45BalanceModel } from \"../../models/Slot45-balance-model\";\r\nimport { Slot45BetModel } from \"../../models/Slot45-bet-model\";\r\nimport Slot45ButtonActor from \"./Slot45-button\";\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class Slot45BetButtonActor extends Slot45ButtonActor {\r\n\r\n    @property\r\n    betIndex: number = -1;\r\n    @property(cc.Label)\r\n    txtButtonText: cc.Label = null;\r\n    \r\n    public start(): void {\r\n        Slot45EventManager.GetInstance().register(\"ShowBetPanel\", this.SetButtonTextValues.bind(this));\r\n        Slot45EventManager.GetInstance().register(\"SetBetIncrease\", this.SetTextColor.bind(this));\r\n        Slot45EventManager.GetInstance().register(this.EventName, this.SetTextColor.bind(this));\r\n        this.SetTextColor(0);\r\n    }\r\n\r\n    protected SetButtonTextValues(): void {\r\n\r\n        this.txtButtonText.string = Slot45BetModel.GetInstance().GetBetPointByIndex(this.betIndex).toString();\r\n        this.button.interactable = this.validatorButtonSetBet(this.betIndex);\r\n    }\r\n\r\n    override onButtonClick(): void {\r\n        if (this.validatorButtonSetBet(this.betIndex) && Slot45BetModel.GetInstance().GetBetPerLinebyIndex(this.betIndex) != Slot45BetModel.GetInstance().GetCurrentBetPerLine())\r\n        {\r\n            Slot45EventManager.GetInstance().notify(this.EventName, this.betIndex);\r\n        }\r\n\t\r\n    }\r\n    \r\n    private validatorButtonSetBet(index: number): boolean {\r\n        return Slot45BetModel.GetInstance().GetNextTotalBetPointbyIndex(index) <= Slot45BalanceModel.GetInstance().GetBalance();\r\n    }\r\n\r\n    private SetTextColor(index: number): void{      \r\n            this.txtButtonText.node.color = this.betIndex != index ? cc.Color.GRAY : cc.Color.WHITE;\r\n    }\r\n}\r\n"]}