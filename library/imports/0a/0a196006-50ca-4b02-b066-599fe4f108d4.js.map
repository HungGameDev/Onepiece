{"version":3,"sources":["assets\\Script\\UI\\popup\\Slot45-button-controller.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { G1009EventManager } from \"../../base/events/Slot45-event-manager\";\r\nimport G1009ButtonActor from \"./Slot45-button\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class G1009ButtonControllerActor extends cc.Component {\r\n\r\n\t@property(G1009ButtonActor)\r\n\tspinButton: G1009ButtonActor = null;\r\n\r\n\t@property(G1009ButtonActor)\r\n\tstopSpinButton: G1009ButtonActor = null;\r\n\r\n\t@property(cc.Toggle)\r\n\tturboButton: cc.Toggle = null;\r\n\r\n\tfreespinLeft: number = 0;\r\n\r\n\tisToggleMoving: boolean = false;\r\n\tprivate isAuto: boolean = false;\r\n\t\r\n\tprotected start(): void {\r\n\t\tthis.register();\r\n\t}\r\n\r\n\tprivate register(): void {\t\r\n\t\tG1009EventManager.GetInstance().register(\"StopAuto\", this.onStopAuto.bind(this));\r\n\t\tG1009EventManager.GetInstance().register(\"Spin\", this.OnSpinClicked.bind(this));\r\n\t\tG1009EventManager.GetInstance().register(\"StopImmediately\", this.OnStopSpinClicked.bind(this));\r\n\t\tG1009EventManager.GetInstance().register(\"ShowBetPanel\", this.OnResetSpin.bind(this));\r\n\t\tG1009EventManager.GetInstance().register(\"SpinStarted\", this.activeStopButton.bind(this));\r\n\t\tG1009EventManager.GetInstance().register(\"NextScrollData\", this.onNextScrollData.bind(this));\r\n\t\tG1009EventManager.GetInstance().register(\"FeatureTrigger\", this.checkToActiveSpinLeft.bind(this));\r\n\t\tG1009EventManager.GetInstance().register(\"resume\", this.onResume.bind(this));\r\n\t\tG1009EventManager.GetInstance().register(\"BigWinPresentationStarted\", this.onBigWinStarted.bind(this));\r\n\t\tG1009EventManager.GetInstance().register(\"JackpotPresentationStarted\", this.onBigWinStarted.bind(this));\r\n\t\tG1009EventManager.GetInstance().register(\"SpinComplete\",this.onSpinComplete.bind(this));\r\n\r\n\t}\r\n\r\n\tprivate onNextScrollData(data: any): void {\r\n\t\tthis.freespinLeft = data.freespinLeft;\r\n\t}\r\n\r\n\tpublic onResume(): void {\r\n\t\tthis.spinButton.Disable();\r\n\t\tthis.stopSpinButton.Enable();\r\n\t\tthis.checkToActiveSpinLeft();\r\n\t}\r\n\r\n\tpublic onBigWinStarted(): void {\r\n\t\tthis.spinButton.Disable();\r\n\t\tthis.stopSpinButton.Enable();\r\n\t\tthis.stopSpinButton.Interactable(true);\r\n\t\r\n\t}\r\n\r\n\tpublic onActiveAuto(): void {\r\n\t\tthis.isAuto = true;\r\n\t\tthis.stopSpinButton.Enable();\r\n\t\tthis.spinButton.Disable();\r\n\t\t\r\n\t}\r\n\r\n\tprivate onStopAuto(): void {\r\n\t\tthis.isAuto = false;\r\n\t}\r\n\r\n\tpublic OnSpinClicked(): void {\r\n\t\tif (this.isAuto == false)\r\n\t\t{\r\n\t\t\tthis.spinButton.Disable();\r\n\t\t\tthis.stopSpinButton.Enable();\r\n\t\t}\t\t\r\n\t}\r\n\r\n\tpublic OnStopSpinClicked(): void {\r\n\r\n\t\tthis.stopSpinButton.Interactable(false);\r\n\t}\r\n\r\n\tpublic onSpinComplete():void{\r\n\t\tthis.stopSpinButton.Interactable(false);\r\n\t}\r\n\r\n\tprivate activeStopButton(): void {\r\n\t\tthis.freespinLeft -= 1;\r\n\t\tthis.checkToActiveSpinLeft();\r\n\r\n\t\tthis.stopSpinButton.Interactable(true);\r\n\t}\r\n\r\n\tprivate checkToActiveSpinLeft() {\r\n\t\tthis.onStopAuto();\r\n\t}\r\n\r\n\tprivate OnResetSpin(): void {\r\n\t\tif (this.isAuto == false)\r\n\t\t{\r\n\t\t\tthis.stopSpinButton.Disable();\r\n\t\t\tthis.spinButton.Enable();\r\n\t\r\n\t\t}\r\n\t}\r\n\r\n\tpublic OnTurboClicked(action: cc.Toggle): void {\r\n\t\tG1009EventManager.GetInstance().notify(\"Turbo\", action.isChecked);\r\n\t}\r\n\r\n\tpublic OnAutoClicked(action: cc.Toggle): void {\r\n\t\tif (action.isChecked)\r\n\t\t{\r\n\t\t\tthis.onActiveAuto();\r\n\t\t\tG1009EventManager.GetInstance().notify(\"ActiveAuto\");\r\n\t\t\t\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tthis.onStopAuto();\r\n\t\t\tG1009EventManager.GetInstance().notify(\"StopAuto\");\r\n\t\t\tG1009EventManager.GetInstance().notify(\"StopImmediately\");\r\n\t\t}\r\n\t}\r\n\r\n}\r\n"]}